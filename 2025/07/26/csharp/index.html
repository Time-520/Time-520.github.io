<!-- build time:Mon Aug 18 2025 17:52:13 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="字节纪元" href="https://time-520.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="字节纪元" href="https://time-520.github.io/atom.xml"><link rel="alternate" type="application/json" title="字节纪元" href="https://time-520.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="https://time-520.github.io/2025/07/26/csharp/"><title>C Sharp | ByteChronicle = 字节纪元</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">C Sharp</h1><div class="meta"><span class="item" title="Created: 2025-07-26 18:10:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">Posted on</span> <time itemprop="dateCreated datePublished" datetime="2025-07-26T18:10:00+08:00">2025-07-26</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">ByteChronicle</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://www.dmoe.cc/random.php?438682"></li><li class="item" data-background-image="https://www.dmoe.cc/random.php?796329"></li><li class="item" data-background-image="https://www.dmoe.cc/random.php?580487"></li><li class="item" data-background-image="https://www.dmoe.cc/random.php?200082"></li><li class="item" data-background-image="https://www.dmoe.cc/random.php?294131"></li><li class="item" data-background-image="https://www.dmoe.cc/random.php?187303"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">Home</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="en"><link itemprop="mainEntityOfPage" href="https://time-520.github.io/2025/07/26/csharp/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Years Pass"><meta itemprop="description" content=", 字节 + 编年史，记录开发旅程与项目成长。"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="字节纪元"></span><div class="body md" itemprop="articleBody"><h1 id="入门"><a class="anchor" href="#入门">#</a> 入门</h1><h2 id="注释"><a class="anchor" href="#注释">#</a> 注释</h2><p>注释就是对代码的解释和说明，其目的是让人们能够更加轻松地了解代码。<br>注释内容不会被程序识别，只起到说明作用。</p><ul><li>两杠注释：用于注释一行信息</li><li>星号注释：用于注释多行信息</li><li>三杠注释：用于注释类、命名空间等等<br>快捷键：<br>ctrl+k+c 添加注释<br>ctrl+k+u 取消注释</li></ul><h2 id="控制台"><a class="anchor" href="#控制台">#</a> 控制台</h2><ul><li>输入 向控制台输入内容<br>Console.ReadLine ();<br>Console.ReadKey();<br>char c=Console.ReadKey().KeyChar;</li><li>输出<br>Console.writeLine ();<br>Console.write();</li><li>其它方法</li><li>清空<br>Console.Clear ();</li><li>设置控制台大小 窗口大小 缓冲区大小</li><li>注意：</li></ul><ol><li>要先设置窗口大小 再设置缓冲区大小</li><li>缓冲区的大小不能小于窗口的大小</li><li>窗口的大小不能大于控制台的最大尺寸<br>窗口：<br>Console.SetWindowSize(,);<br>缓冲区：<br>Console.SetBufferSize(,);</li></ol><ul><li>设置光标<br>控制台左上角为原点右侧是 x 轴正方向下方是 Y 轴正方向它是一个平面二维坐标系<br>注意：边界问题 横纵距离单位不同 1y=2x 视觉上的<br>Console.SetCursorPosition (,)</li><li>文字颜色<br>Console.ForegroundColor = ConsoleColor.;</li><li>背景颜色<br>Console.BackgroundColor = ConsoleColor.;<br>重置背景颜色过后需要 clear 一次才能把整个背景颜色改变</li><li>光标显隐<br>Console.CursorVisible = true/false;</li><li>关闭控制台<br>Environment.Exit (o);</li></ul><h2 id="随机数"><a class="anchor" href="#随机数">#</a> 随机数</h2><p>语法： <code>Random 随机数变量名=new Random();</code><br>随机生成：<br>int i = random.Next (100); 生成 0~99<br>Console.WriteLine(i);</p><h2 id="变量"><a class="anchor" href="#变量">#</a> 变量</h2><p>变量：可以变化的容器<br>变量就是用来存储各种不同类型数值的一个容器 不同的变量类型可以存储不同类型的值<br>写法： <code>变量类型 变量名 = 初始值</code></p><h3 id="折叠代码"><a class="anchor" href="#折叠代码">#</a> 折叠代码</h3><ul><li>主要作用 是让我们编程时 逻辑更加清晰<br>它是有 #region #endregion 配对出现的<br>它的具体作用 是可以将中间包裹的代码折叠起来 避免代码太凌乱</li><li>本质：编辑器提供给我们的预处理指令<br>它只会在编辑时有用发布了代码或执行代码它会被自动删除</li></ul><h3 id="变量类型"><a class="anchor" href="#变量类型">#</a> 变量类型</h3><ol><li>有符号的整形变量 是能存储一定范围正负数包括的变量类型<br>sbyte -128~127<br>int -21 亿～21 亿多<br>short -32768~32767 之间<br>long -9 百万兆～9 百万兆之间</li><li>无符号的整形变量<br>byte 0~255<br>uint 0~42 亿多的一个范围<br>ushort 0~65535 之间的─个数<br>ulong 0~18 百万兆之间的数</li><li>浮点数（小数）<br>f1oat 存储 7/8 位有效数字根据编译器不同有效数字也可能不一样 四舍五入<br>之所以要在后面加 f 是因为 c# 中申明的小数默认是 double 的类型 型加 f 是告诉系统它是 float 类型<br>double 存储 15~17 位有效数字<br>decimal 存储 27~28 位的有效数字不建议使用</li><li>特殊类型<br>bool<br>char<br>string</li></ol><h3 id="变量的本质"><a class="anchor" href="#变量的本质">#</a> 变量的本质</h3><p>变量的本质是 2 进制一 &gt; 计算机中所有数据的本质都是二进制是一堆 0 和 1<br>为什么是 2 进制？<br>数据传递只能通过电信号，只有开和关两种状态。所以就用 0 和 1 来表示这两种状态<br>计算机中的存储单位最小为 bit（位），他只能表示 0 和 1 两个数字<br>1bit 就是 1 个数要不是 0 要不是 1<br>为了方便数据表示<br>出现一个叫 byte（字节）的单位，它是由 8 个 bit 组成的存储单位。<br>所以我们一般说一个字节为 8 位<br>- 2 进制转 10 进制的规则<br>从右往左看最右边的一位为第 0 位<br>如果该位不为 0 则加上 2 的 n 位次方</p><h3 id="变量名命名规则"><a class="anchor" href="#变量名命名规则">#</a> 变量名命名规则</h3><ul><li>必须遵守的规则</li></ul><ol><li>不能重名</li><li>不能以数字开头</li><li>不能使用程序关键字命名</li><li>不能有特殊符号（下线除外）</li></ol><ul><li>建议的命名规则：<br>变量名要有含义一 &gt; 用英文（拼音）表示变量的作用</li><li>非常不建议的命名规则：<br>用汉字命名</li><li>常用命名规则<br>驼峰命名法一首字母小写，之后单词首字母大写（变量）<br>帕斯卡命名法一所有单词首字母都大写（函数、类）</li></ul><h2 id="常量"><a class="anchor" href="#常量">#</a> 常量</h2><p>关键字：const<br>语法： <code>const 变量类型 变量名 = 初始值</code><br>常量特点：</p><ol><li>必须初始化</li><li>不能被修改<br>作用：声明一些常用的不变的变量</li></ol><h2 id="转义字符"><a class="anchor" href="#转义字符">#</a> 转义字符</h2><p>它是字符串的部分<br>用来表示一些特殊含义的字符<br>比如：在字符串中表现单引号引号空行等等<br>语法：\ 字符<br>不同的 \ 和字符的组合表示不同的含义<br>单引号 ' 双引号 &quot; 换行 \n 斜杠 \ 制表符 \t</p><ul><li>取消转义字符：在 “” 前加 @</li></ul><h2 id="类型转换"><a class="anchor" href="#类型转换">#</a> 类型转换</h2><p>就是不同变量类型之间的互相转换</p><h3 id="隐式转换"><a class="anchor" href="#隐式转换">#</a> 隐式转换</h3><h4 id="相同大类型转换"><a class="anchor" href="#相同大类型转换">#</a> 相同大类型转换</h4><p>隐式转换的基本规则一 &gt; 不同类型之间自动转换<br>大范围装小范围</p><ul><li>有符号:long—&gt;int-&gt;short—&gt;sbyte</li><li>无符号:ulong-&gt;uint—&gt;ushort—&gt;pyte</li><li>浮点数:decimal double—&gt;float<br>decimal 这个类型没有办法用隐式转换的形式去存储 double 和 float<br>float 是可以隐式转换成 double</li><li>特殊类型:bool char string<br>他们之间不存在隐式转换</li></ul><h4 id="不同大类型转换"><a class="anchor" href="#不同大类型转换">#</a> 不同大类型转换</h4><ul><li>无符号不能装负数 有符合的变量是不能够隐式转换成无符号的</li><li>有符号装无符号<br>有符号变量是可以 装 无符号变量的前提是范围一定要是涵盖的存在 隐式转换<br>有符号的变量可能会超过这个无符号变量的范围<br>有符号的变量不管是多少都在无符号变量的范围内</li><li>浮点数装整数 整形转为浮点数 是存在隐式转换的<br>浮点数 是可以装载任何类型的 整数的<br>decimal 不能隐式存储 float 和 double<br>但是它可以隐式的存储整形<br>double 一 &gt; f1oat 一 &gt; 所有整形（无符号、有符号）<br>decimal 一 &gt; 所有整形（无符号、有符号）</li><li>整数是不能隐式存储 浮点数</li><li>bool 没有办法和其它类型相互隐式转换</li><li>char 没有办法隐式的存储 其它类型的变量<br>char 类型可以隐式的转换成 整形和浮点型<br>char 隐式转换成 数值类型是 对应的数字其实是一个 ASCII 码</li><li>string 类型无法和其它类型进行隐式转换</li><li>总结隐式转换规则<br>高精度（大范围）装低精度（小范围）<br>double—&gt;float 一 &gt; 整数（无符号、有符号）一 &gt; char<br>decimal 一 &gt; 整数（无符号、有符号）一 &gt; char<br>string 和 bool 不参与隐式转换规则的</li></ul><h3 id="显示转换"><a class="anchor" href="#显示转换">#</a> 显示转换</h3><p>显示转换一 &gt; 手动处理 强制转换</p><h4 id="括号强转"><a class="anchor" href="#括号强转">#</a> 括号强转</h4><p>作用一般情况下 将高精度的类型强制转换为低精度<br>语法： <code>变量类型 变量名 = (变量类型)变量；</code><br>注意：精度问题范围问题</p><h4 id="parse法"><a class="anchor" href="#parse法">#</a> Parse 法</h4><p>作用：把字符串类型转换为对应的类型<br>语法: <code>变量类型.Parse(&quot;字符串&quot;)</code><br>注意： 字符串必须能够转换成对应类型 否则报错</p><h4 id="convert法"><a class="anchor" href="#convert法">#</a> Convert 法</h4><p>作用：更准确的将各个类型之间进行相互转换<br>语法: <code>Convert.To目标类型（变量或常量）</code><br>注意： 填写的变量或常量必须正确否则出错</p><h4 id="其它类型转string"><a class="anchor" href="#其它类型转string">#</a> 其它类型转 string</h4><p>作用：拼接打印<br>语法: <code>变量.toString();</code></p><h2 id="异常捕捉"><a class="anchor" href="#异常捕捉">#</a> 异常捕捉</h2><p>基本语法 <code>必备部分：try&#123;希望进行异常捕获的代码块 放到try中&#125; catch&#123; 如果出错 执行catch中的代码 来捕获异常&#125; 可选部分：finally&#123; 最届执行的代码不管有没有出错都会执行其中的代码 &#125;</code></p><h2 id="字符串拼接"><a class="anchor" href="#字符串拼接">#</a> 字符串拼接</h2><p>方式一：用 + 号拼接是用符号唯一方法不能用 -*/%……<br>方式二：string.Format (&quot;带拼接的内容，内容，……&quot;) 想要被拼接的内容用占位符替代 {数字} 数字：0~n 依次往后</p><h2 id="条件运算符"><a class="anchor" href="#条件运算符">#</a> 条件运算符</h2><p>用于比较两个变量或常量<br>是否大于 &gt;<br>是否小于<br>是否等于 ==<br>是否不等于！=<br>是否大于等于 &gt;=<br>是否小于等于 &lt;=<br>条件运算符 一定存在左右两边的内容 左边内容条件运算符右边内容<br>比较的结果返回的是一个 bo11 类型的值 满足返回 true 否则返回 false</p><ul><li>判断是否在某两个值之间<br>1&lt;a&lt;6</li><li>注意：在 C# 都不能这样写</li><li>不同数值类型之间 可以随意进行条件运算符比较</li><li>特殊类型:char string bool 只能同类型进行 == 和！= 比较</li></ul><h2 id="逻辑运算符"><a class="anchor" href="#逻辑运算符">#</a> 逻辑运算符</h2><ul><li>逻辑与（&amp;&amp;）<br>对两个 boo1 值进行逻辑运算 <code>有假则假 同真为真</code></li><li>逻辑或（||）<br>对两个 b001 值进行逻辑运算 <code>有真则真 同假为假</code></li><li>逻辑非（!）<br>对一个 b0o1 值进行取反 `真变假 假变真```</li><li>混合使用优先级问题<br>！（逻辑非）优先级最高 &amp;&amp;（逻辑与）优先级高于 ||（逻辑或）<br>逻辑运算符 优先级低于 算数运算符 条件运算符</li><li>逻辑运算符短路规则<br>（||）有真则真</li><li>只要逻辑与或者逻辑或 左边满足了条件 右边就短路了<br>只要满足条件右边的内容对于我们来说已经不重要</li></ul><h2 id="位运算符"><a class="anchor" href="#位运算符">#</a> 位运算符</h2><p>主要用数值类型进行计算的<br>将数值转换为 2 进制 再进行位运算</p><ul><li>位与（&amp;）<br>连接两个数值进行位计算将数值转为 2 进制<br>对位运算 有 0 则 0<br>示例：</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name"><span class="token keyword">int</span></span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span></span> b <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span></span> c <span class="token operator">=</span> a <span class="token operator">&amp;</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>            <span class="token comment">//  0001</span></pre></td></tr><tr><td data-num="5"></td><td><pre>            <span class="token comment">//&amp; 0101</span></pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token comment">//  0001 = 1</span></pre></td></tr><tr><td data-num="7"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 输出 1</span></pre></td></tr></table></figure><ul><li>位或（|）<br>连接两个数值进行位计算将数值转为 2 进制<br>对位运算 有 1 则 1<br>示例：</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name"><span class="token keyword">int</span></span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span></span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span></span> c <span class="token operator">=</span> a <span class="token operator">|</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>            <span class="token comment">//  0001</span></pre></td></tr><tr><td data-num="5"></td><td><pre>            <span class="token comment">//&amp; 0011</span></pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token comment">//  0011 =3 </span></pre></td></tr><tr><td data-num="7"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 输出 3</span></pre></td></tr></table></figure><ul><li>异或（^）<br>连接两个数值进行位计算将数值转为 2 进制<br>对位运算 相同为 0 不同为 1</li><li>位取反（~）<br>写在数值前面将数值转为 2 进制<br>对位运算 0 变 1 1 变 0<br>示例：</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name"><span class="token keyword">int</span></span> a2 <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre> <span class="token class-name"><span class="token keyword">int</span></span> c2 <span class="token operator">=</span> <span class="token operator">~</span>a2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre> <span class="token comment">// 因为 a2 为 int 类型 4 个字节 32 位 有符号整型 左侧是符号位 0 为正 1 为负</span></pre></td></tr><tr><td data-num="4"></td><td><pre> <span class="token comment">// 0000 0000 0000 0000 0000 0000 0000 0101</span></pre></td></tr><tr><td data-num="5"></td><td><pre> <span class="token comment">// 1111 1111 1111 1111 1111 1111 1111 1010</span></pre></td></tr><tr><td data-num="6"></td><td><pre> <span class="token comment">// 反码补码知识</span></pre></td></tr><tr><td data-num="7"></td><td><pre> Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><ul><li>左移和右移（&lt;&lt;&gt;&gt;）<br>让一个数的 2 进制数进行左移和右移<br>左移几位右侧加几个 右移几位右侧去掉几个数</li></ul><h2 id="三目运算符"><a class="anchor" href="#三目运算符">#</a> 三目运算符</h2><ul><li>语法：表达式 1 ？ 表达式 2 ：表达式 3</li><li>解释<br>如果表达式 1 的值为真 执行表达式 2 并返回表达式 2 的结果<br>如果表达式 1 的值为假 执行表达式 3 并返回表达式 3 的结果</li><li>示例：判断是否能毕业</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">try</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>      Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"请输入姓名："</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>      Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"请输入c#成绩："</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>      <span class="token class-name"><span class="token keyword">int</span></span> i1 <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>      Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"请输入unity成绩："</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>      <span class="token class-name"><span class="token keyword">int</span></span> i2 <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>      <span class="token class-name"><span class="token keyword">string</span></span> str <span class="token operator">=</span> i1 <span class="token operator">+</span> i2 <span class="token operator">>=</span> <span class="token number">90</span> <span class="token punctuation">?</span> <span class="token string">"毕业"</span> <span class="token punctuation">:</span> <span class="token string">"不及格"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>      <span class="token class-name"><span class="token keyword">int</span></span> score <span class="token operator">=</span> i1 <span class="token operator">+</span> i2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>      Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"总分为"</span> <span class="token operator">+</span> score<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>      Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"输入有误"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="条件分支语句"><a class="anchor" href="#条件分支语句">#</a> 条件分支语句</h2><h3 id="if语句"><a class="anchor" href="#if语句">#</a> if 语句</h3><ul><li>作用：执行满足条件的语句</li><li>三种形式：单行格式 if 语句 多行格式 if 语句 多条件的 if 语句</li><li>单行格式 if 语句： <code>if（条件）&#123;条件满足执行的语句&#125;</code></li><li>多行格式 if 语句 <code>if（条件）&#123;满足条件执行的语句&#125;else&#123;条件不满足执行的语句&#125;</code></li><li>多条件的 if 语句: <code>if(条件)&#123;条件1满足执行的语句&#125;else if(条件2)&#123;条件2满足执行的语句&#125;…else&#123;都不满足执行的语句&#125;</code></li></ul><h3 id="switch"><a class="anchor" href="#switch">#</a> switch</h3><ul><li>作用：执行多条件分支语句</li><li>语法： <code>switch(表达式)&#123;&#125;</code></li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">switch</span><span class="token punctuation">(</span>表达式<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>      <span class="token comment">// 变量 == 常量执行 case 和 break 之间的代码</span></pre></td></tr><tr><td data-num="4"></td><td><pre>      <span class="token keyword">case</span> 结果<span class="token number">1</span><span class="token punctuation">:</span>执行语句<span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      <span class="token keyword">case</span> 结果<span class="token number">2</span><span class="token punctuation">:</span>执行语句<span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>      ……</pre></td></tr><tr><td data-num="7"></td><td><pre>      <span class="token comment">// 如果上面 case 的条件都不满足就会执行 default 中的代码</span></pre></td></tr><tr><td data-num="8"></td><td><pre>      <span class="token keyword">default</span><span class="token punctuation">:</span>默认语句：<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>     </pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>满足某些条件时做的事情是一样的就可以使用贯穿</p><h2 id="循环语句"><a class="anchor" href="#循环语句">#</a> 循环语句</h2><h3 id="while"><a class="anchor" href="#while">#</a> while</h3><ul><li>作用<br>让顺序执行的代码可以不停的循环执行某一代码块的内容<br>条件分支语句是让代码产生分支<br>循环语句是让代码可以被重复执行</li><li>示例：</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>     <span class="token comment">// 初始值</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name"><span class="token keyword">int</span></span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment">// 用于存储总和</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    sum <span class="token operator">+=</span> i<span class="token punctuation">;</span>  <span class="token comment">// 累加</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    i<span class="token operator">++</span><span class="token punctuation">;</span>       <span class="token comment">// 增加计数器</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="do-while"><a class="anchor" href="#do-while">#</a> do while</h3><p>do while 循环是先车后奏<br>先至少执行一次循环语句块中的逻辑再判断是否继续</p><ul><li>语法：do {循环语句} while（循环条件）</li></ul><h3 id="for"><a class="anchor" href="#for">#</a> for</h3><ul><li>作用： 满足循环条件 执行循环语句</li><li 循环语句="">语法： for（起始表达式；条件表达式；末尾循环体）</li><li>注意：for 循环中的表达式 要用分号进行分隔</li><li>总结：while do…while for 都是开发中常用的循环语句 for 循环结构比较清晰 比较常用</li></ul><h1 id="基础"><a class="anchor" href="#基础">#</a> 基础</h1><h2 id="枚举"><a class="anchor" href="#枚举">#</a> 枚举</h2><h3 id="概念"><a class="anchor" href="#概念">#</a> 概念</h3><p>枚举是一个比较特别的存在<br>它是一个被命名的整形常量集合<br>一般用它来表示状态类型等等</p><ul><li>声明枚举 和 声明枚举变量<br>注意：声明枚举和声明枚举变量是两个概念<br>申明枚举：相当于是创建一个自定义的枚举类型<br>申明枚举变量：使用申明的自定义枚举类型创建一个枚举变量</li><li>语法：<br>enum E_自定义枚举名 {自定义枚举项名字，……} 第一个默认值为 0 也可以赋值 后面依次累加</li></ul><h3 id="声明位置"><a class="anchor" href="#声明位置">#</a> 声明位置</h3><p>1.namespace 语句块中（常用）<br>2.class 语句块中 struct 语句块中<br>注意：枚举不能在函数语句块中申明！！！</p><h3 id="声明枚举变量"><a class="anchor" href="#声明枚举变量">#</a> 声明枚举变量</h3><p>自定义的枚举类型 变量名 = 默认值；（自定义的枚举类型，枚举项）</p><h3 id="枚举类型转换"><a class="anchor" href="#枚举类型转换">#</a> 枚举类型转换</h3><ol><li>枚举和 int 转换<br>int 变量名 = （int）自定义枚举类型变量名</li><li>枚举和 string 转换<br>string 变量名 = 自定义枚举类型变量名.ToString ();</li></ol><h2 id="数组"><a class="anchor" href="#数组">#</a> 数组</h2><p>数组是存储一组相同类型数据的集合<br>数组分为一维、多维、交错数组<br>一般般情况一维数组就简称为数组<br>数组声明：</p><ol><li><code>变量类型[] 数组名</code></li><li><code>变量类型[] 数组名=new 变量类型[数组的长度]</code></li><li><code>变量类型[] 数组名=new 变量类型[数组的长度]&#123;内容&#125;</code></li><li><code>变量类型[] 数组名=new 变量类型[]&#123;内容&#125;</code></li><li><code>变量类型[] 数组名=&#123;内容&#125;</code></li></ol><ul><li>数组的长度<br>数组变量名.Length</li><li>2. 获取数组中的元素<br>数组中的下标和索引他们是从 0 开始的 <code>[0]</code><br>通过索引下标去获得数组中某一个元素的值时<br>一定注意 不能越界</li></ul><h3 id="二维数组"><a class="anchor" href="#二维数组">#</a> 二维数组</h3><p>二维数组是使用两个下标（索引）来确定元素的数组<br>两个下标可以理解成行标和列标</p><ul><li>声明<br><code>变量类型[，]二维数组变量名；</code><br><code>变量类型[,］二维数组变量名=new变量行[行，列];</code><br><code>变量类型[,］二维数组变量名=new变量行[行，列]&#123;&#123;0行内容1，0行内容1，……&#125;，&#123;1行内容1，1行内容1，……&#125;&#125;;</code><br><code>变量类型[,］二维数组变量名=new变量行[，]&#123;&#123;0行内容1，0行内容1，……&#125;，&#123;1行内容1，1行内容1，……&#125;&#125;;</code></li><li>数组的长度<br>数组变量名.GetLength (下标)</li></ul><h3 id="交叉数组"><a class="anchor" href="#交叉数组">#</a> 交叉数组</h3><p>交错数组是数组的数组，每个维度的数量可以不同<br>注意：二维数组的每行的列数相同，交错数组每行的列数可能不同</p><ul><li>声明<br>变量类型 [][] 交错数组名；<br><code>变量类型[][]交错数组名=new变量类型[行数][];</code><br><code>变量类型[][]交错数组名=new变量类型[行数][]&#123;一维数组1，一维数组2，……&#125;;</code></li></ul><h2 id="值类型和引用类型"><a class="anchor" href="#值类型和引用类型">#</a> 值类型和引用类型</h2><p>引用类型：string 数组 类<br>值类型：其它 结构体</p><ul><li>值类型 和 引用类型的区别：<br>值类型在相互赋值时把内容拷贝给了对方 它变我不变<br>引用类型的相互赋值是让两者指向同一个值 它变我也变<br>值类型存储在栈空间一系统分配，自动回收，小而快<br>引用类型存储在堆空间一手动申请和释放，大而慢</li></ul><h2 id="函数"><a class="anchor" href="#函数">#</a> 函数</h2><ul><li>函数（方法）: 本质是一块具有名称的代码块<br>可以使用函数（方法）的名称来执行该代码块<br>函数（方法）是封装代码进行重复使用的一种机制</li><li>作用：</li></ul><ol><li>代码封装</li><li>提高代码复用率</li><li>抽象行为</li></ol><ul><li>语法：<br><code>static返回类型函数名(参数类型参数名1，参数类型参数名2，······）&#123;函数的代码逻辑；return返回值;（如果有返回类型才返回）&#125;</code></li></ul><h2 id="ref和out"><a class="anchor" href="#ref和out">#</a> ref 和 out</h2><p>ref 和 out 的作用：解决值类型和引用类型在函数内部改值或者重新申明能够影响外部传入的变量让其也被修改<br>使用上：就是在申明参数的时候前面加上 ref 和 out 的 关键字即可 使用时 同上<br>函数参数的修饰符<br>当传入的值类型参数在内部修改时或者引用类型参数在内部重新声明时 外部的值会发生变化</p><ul><li>区别：<br>ref 传入的变量必须初始化 out 不用<br>out 传入的变量必须在内部赋值 ref 不用<br>ref 传入的变量必须初始化但是在内部可改可不改<br>out 传入的变量不用初始化但是在内部必须修改该值（必须赋值）</li></ul><h2 id="变成参数和默认参数"><a class="anchor" href="#变成参数和默认参数">#</a> 变成参数和默认参数</h2><ul><li>变长参数关键字：params</li><li>语法： <code>int 函数名(params int[] arr)</code><br>int [] 意味着可以传入 n 个 int 参数 n 可以等于 0 传入的参数会存在 arr 数组中</li><li>注意:</li></ul><ol><li>params 关键字后面必为数组</li><li>数组的类型可以是任意的类型</li><li>函数参数可以有别的参数和 params 关键字修饰的参数</li><li>函数参数中只能最多出现一个 params 关键字并且一定是在最后一组参数前面可以有 n 个其它参数</li></ol><ul><li>默认参数<br>有参数默认值的参数一般称为可选参数<br>作用：当调用函数时可以不传入参数，不传就会使用默认值作为参数的值</li><li>注意：</li></ul><ol><li>支持多参数默认值每个参数都可以有默认值</li><li>如果要混用可选参数必须写在普通参数后面</li></ol><h2 id="函数重载"><a class="anchor" href="#函数重载">#</a> 函数重载</h2><p>概念：在同一语句块（class 或者 struct）中 函数（方法）名相同 参数的数量不同 或者 参数的数量相同 单参数的类型或顺序不同</p><ul><li>作用：</li></ul><ol><li>命名一组功能相似的函数 减少函数名的数量 避免命名空间的污染</li><li>提升程序可读性</li></ol><ul><li>注意：<br>重载和返回值类型无关，只和参数类型，个数，顺序有关<br>调用时程序会自己根据传入的参数类型判断使用哪一个重载</li><li>ref 和 out 可以理解成他们也是一种变量类型所以可以用在重载中但是 ref 和 out 不能同时修饰</li></ul><h2 id="递归函数"><a class="anchor" href="#递归函数">#</a> 递归函数</h2><p>递归函数：让函数自己调用自己</p><ol><li>必须有结束调用的条件</li><li>用于条件判断的这个条件必须改变能够达到停止的目的</li></ol><h2 id="结构体"><a class="anchor" href="#结构体">#</a> 结构体</h2><p>结构体是一种自定义变量类型 类似枚举需要自己定义<br>它是数据和函数的集合 在结构体中可以申明各种变量和方法</p><ul><li>作用：用来表现存在关系的数据集合比如用结构体表现学生动物人类等等</li><li>结构体一般写在 namespace 语句块中 结构体关键字 struct</li><li>访问修饰符：public 和 private 用来修饰变量和方法的 public 外部可以调用 private 内部用不写的话默认就是 private</li><li>构造函数：没有返回值函数名和结构体名相同可以重载主要是帮助我们快速初始化结构体对象的</li></ul><h2 id="冒泡排序"><a class="anchor" href="#冒泡排序">#</a> 冒泡排序</h2><p>两两相邻 不停比较 不停交换<br>示例：</p><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 排序总轮数 = 元素个数 - 1</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 内层次数 = 元素个数 - 1 - 排序轮数</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 还可以加 bool</span></pre></td></tr><tr><td data-num="4"></td><td><pre>           <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>           <span class="token class-name"><span class="token keyword">bool</span></span> isSotr<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>Length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>              isSotr<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>Length<span class="token operator">-</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="10"></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="12"></td><td><pre>                    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>                        isSotr<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>                        <span class="token class-name"><span class="token keyword">int</span></span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>                        arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>                        arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>                    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>               <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isSotr<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>               <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>                  <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>               <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>Length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="选择排序"><a class="anchor" href="#选择排序">#</a> 选择排序</h2><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>Length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="4"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>                <span class="token class-name"><span class="token keyword">int</span></span> max <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>Length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="7"></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>max<span class="token punctuation">]</span> <span class="token operator">></span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// 如果从大到小改成 & lt; 号</span></pre></td></tr><tr><td data-num="9"></td><td><pre>                    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>                        max <span class="token operator">=</span> j<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>                    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>                    </pre></td></tr><tr><td data-num="13"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>                <span class="token keyword">if</span> <span class="token punctuation">(</span>max<span class="token operator">!=</span>i<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="15"></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>                    <span class="token class-name"><span class="token keyword">int</span></span> temp<span class="token operator">=</span>arr<span class="token punctuation">[</span>max<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>                    arr<span class="token punctuation">[</span>max<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>                    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h1 id="核心"><a class="anchor" href="#核心">#</a> 核心</h1><h2 id="面向对象概念"><a class="anchor" href="#面向对象概念">#</a> 面向对象概念</h2><ul><li>面向过程：是一种以过程为中心的编程思想<br>分析出解决问题所需要的步骤<br>然后用函数把步骤一步一步实现<br>使用的时候一个一个依次调用</li><li>面向对象：是一种对现实世界理解和抽象的编程方法<br>把相关的数据和方法组织为一个整体来看待<br>从更高的层次来进行程序开发<br>更贴近事物的自然运行模式</li><li>面向对象关键知识：类 (class 关键词)</li><li>面向对象三大特性：封装 + 继承 + 多态<br>封装：用程序语言来形容对象。<br>继承：复用封装对象的代码；儿子继承父亲，复用现成代码<br>多态：同样行为的不同表现，儿子继承父亲的基因但是有不同的行为表现</li><li>面向对象七大原则：开闭原则、依赖倒转原则、里氏替换原则、单一职责原则、接口隔离原则、合成复用原则、迪米特法则</li></ul><h2 id="面向对象-封装"><a class="anchor" href="#面向对象-封装">#</a> 面向对象 - 封装</h2><h3 id="类和对象"><a class="anchor" href="#类和对象">#</a> 类和对象</h3><ul><li>什么是类：具有相同特征 具有相同行为 一类事物的抽象 类是对象的模板 可以通过类创建出对象 类的关键词 class</li><li>声明在哪：一般在 namespace 语句块中</li><li>语法 <code>class 类名&#123;&#125;</code></li><li>实例化对象基本语法<br>类名变量名；<br>类名变量名 = null；(null 代表空）不分配内存空间<br>类名变量名 = new 类名（)</li></ul><h3 id="成员变量和访问修饰符"><a class="anchor" href="#成员变量和访问修饰符">#</a> 成员变量和访问修饰符</h3><ul><li>成员变量基本规则：</li></ul><ol><li>申明在类语句块中</li><li>用来描述对象的特征</li><li>可以是任意变量类型</li><li>数量不做限制</li><li>是否赋值根据需求来定</li></ol><ul><li>访问修饰符<br>public 一公共的自己（内部）和别人（外部）都能访问和使用<br>private 一私有的自己内部）才能访问和使用不写默认为 private<br>protected 一保护的自己（内部）和子类才能访问和使用<br>目前决定类内部的成员的访问权限</li><li>成员变量的使用和初始值<br>值类型来说数字类型默认值都是 0 bool 类型 false<br>引用类型：null</li></ul><h3 id="成员方法函数"><a class="anchor" href="#成员方法函数">#</a> 成员方法（函数）</h3><ul><li>基本概念<br>成员方法（函数）用来表现对象行为<br>1. 申明在类语句块中<br>2. 是用来描述对象的行为的<br>3. 规则和函数申明规则相同<br>4. 受到访问修饰符规则影响<br>5. 返回值参数不做限制<br>6. 方法数量不做限制<br>注意：</li></ul><ol><li>成员方法不要加 static 关键字</li><li>成员方法必须实例化出对象再通过对象来使用相当于该对象执行了某个行为</li><li>成员方法受到访问修饰符影响</li></ol><h3 id="构造函数和析构函数-垃圾回收"><a class="anchor" href="#构造函数和析构函数-垃圾回收">#</a> 构造函数和析构函数 垃圾回收</h3><h4 id="构造函数"><a class="anchor" href="#构造函数">#</a> 构造函数</h4><ul><li>构造函数：在实例化对象时会调用的用于初始化的函数 如果不写默认存在一个无参构造函数<br>写法：没有返回值 函数名和类名必须相同 没有特殊需求时 一般都是 public 的<br>构造函数特殊写法：<br>可以通过 this 重用构造函数代码<br>访问修饰符构造函数名（参数列表）：this（参数 1，参数 2....）</li></ul><h4 id="析构函数"><a class="anchor" href="#析构函数">#</a> 析构函数</h4><ul><li>析构函数<br>基本概念<br>当引用类型的堆内存被回收时，会调用该函数<br>对于需要手动管理内存的语言（比如 C++），需要在析构函数中做一些内存回收处理<br>但是 C# 中存在自动垃圾回收机制 GC<br>所以我们几乎不会怎么使用析构函数。除非你想在某一个对象被垃圾回收时，做一些特殊处理<br>注意:<br>在 unity 开发中析构函数几乎不会使用，所以该知识点只做了解即可</li><li>语法：~ 类名 (){}</li><li>析构函数是当垃圾真正被回收的时候才会调用的函数</li></ul><h4 id="垃圾回收机制"><a class="anchor" href="#垃圾回收机制">#</a> 垃圾回收机制</h4><ul><li>垃圾回收，英文简写 GC (GarbageCollector）<br>垃圾回收的过程是在遍历堆（Heap）上动态分配的所有对象<br>通过识别它们是否被引用来确定哪些对象是垃圾，哪些对象仍要被使用<br>所谓的垃圾就是没有被任何变量，对象引用的内容<br>垃圾就需要被回收释放</li><li>垃圾回收有很多种算法 比如<br>引 l 用计数 (ReferenceCounting)<br>标记清除（MarkSweep）<br>标记整理 (MarkCompact）<br>复制集合 (CopyCollection)</li><li>注意：<br>Gc 只负责堆（Heap）内存的垃圾回收<br>引用类型都是存在堆（Heap）中的，所以它的分配和释放都通过垃圾回收机制来管理<br>栈（Stack）上的内存是由系统自动管理的<br>值类型在栈（Stack）中分配内存的，他们有自己的申明周期，不用对他们进行管理，会自动分配和释放</li><li>C# 中内存回收机制的大概原理<br>0 代内存 1 代内存 2 代内存<br>代的概念：<br>代是垃圾回收机制使用的一种算法（分代算法）<br>新分配的对象都会被配置在第代内存中<br>每次分配都可能会进行垃圾回收以释放内存（代内存满时）<br>在一次内存回收过程开始时，垃圾回收器会认为堆中全是垃圾，会进行以下两步<br>1. 标记对象从根（静态字段、方法参数）开始检查引用对象<br>标记后为可达对象，未标记为不可达对象<br>不可达对象就认为是垃圾<br>2. 搬迁对象压缩堆 （挂起执行托管代码线程）释放未标记的对象搬迁可达对象修改引 | 用地址<br>大对象总被认为是第二代内存 目的是减少性能损耗，提高性能<br>不会对大对象进行搬迁压缩 85000 字节（83kb）以上的对象为大对象</li><li>手动触发垃圾回收的方法：GC.Collect ();<br>一般情况下我们不会频繁调用 都是在 Loading 过场景时才调用</li></ul><h3 id="成员属性"><a class="anchor" href="#成员属性">#</a> 成员属性</h3><ul><li>基本概念<br>用于保护成员变量<br>为成员属性的获取和赋值添加逻辑处理<br>解决 3P 的局限性<br>public 一内外访问<br>private— 内部访问<br>protected 一内部和子类访问<br>属性可以让成员变量在外部<br>只能获取不能修改或者 只能修改不能获取</li><li>语法：<br><code>访问修饰符 属性类型 属性名&#123;get&#123;&#125;set&#123;&#125; &#125;</code><br>示例：</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">person</span> </pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name </pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>            <span class="token keyword">get</span> </pre></td></tr><tr><td data-num="8"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>                <span class="token keyword">return</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>            <span class="token keyword">set</span> </pre></td></tr><tr><td data-num="12"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>                name <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Money </pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            <span class="token keyword">get</span> </pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>                <span class="token comment">// 解密处理</span></pre></td></tr><tr><td data-num="21"></td><td><pre>                <span class="token keyword">return</span> money<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token keyword">set</span> </pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>                <span class="token comment">// 加密处理</span></pre></td></tr><tr><td data-num="26"></td><td><pre>                money <span class="token operator">=</span> <span class="token keyword">value</span><span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> money<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="38"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre>            <span class="token class-name">person</span> p<span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>            p<span class="token punctuation">.</span>Name <span class="token operator">=</span> <span class="token string">"那么"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>            p<span class="token punctuation">.</span>Money <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// 存 100 存在内存的是 105 可以保护成员变量</span></pre></td></tr><tr><td data-num="45"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>Money<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>成员属性中 get 和 set 前可以加修饰符<br>注意：<ol><li>默认不加会使用属性申明时的访问权限</li><li>加的访问修饰符要低于属性的访问权限</li><li>不能让 get 和 set 的访问权限都低于属性的权限</li></ol></li><li>只有一个时 没必要在前面加访问修饰符 一般情况下只会出现 只有 get 的情况 基本不会出现只有 set</li><li>自动属性<br>作用：外部能得不能改的特征<br>如果类中有一个特征是只希望外部能得不能改的又没什么特殊处理<br>那么可以直接使用自动属性<br><code>cs访问修饰符 属性类型 属性名&#123;get;set; &#125;</code> 可以加上访问权限 只能修改 或者 只能获取</li></ul><h3 id="索引器"><a class="anchor" href="#索引器">#</a> 索引器</h3><p>概念：让对象可以像数组一样通过索引访问其中元素，使程序看起来更直观 更容易编写</p><ul><li>作用：可以让我们以中括号的形式范围自定义类中的元素规则自己定访问时和数组一样 比较适用于在类中有数组变量时使用可以方便的访问和进行逻辑处理</li><li>可以重载</li><li>语法：</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre>访问修饰符 返回值 <span class="token keyword">this</span> <span class="token punctuation">[</span>参数类型 参数名，参数类型 参数名，……<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    内部的写法和规则和索引器相同</pre></td></tr><tr><td data-num="4"></td><td><pre>      <span class="token keyword">get</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      <span class="token keyword">set</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="静态成员"><a class="anchor" href="#静态成员">#</a> 静态成员</h3><p>静态关键字 static 用 static 修饰的成员变量、方法、属性等 称为静态成员</p><ul><li>静态成员的特点是：<br>直接用类名点出使用 那为什么呢？</li><li>静态成员的特点<br>程序开始运行时就会分配内存空间。所以我们就能直接使用。<br><code>静态成员和程序同生共死</code><br>只要使用了它，直到程序结束时内存空间才会被释放<br>所以一个静态成员就会有自己唯一的一个 “内存小房间<br>这让静态成员就有了唯一性<br>在任何地方使用都是用的小房间里的内容，改变了它也是改变小房间里的内容。</li></ul><h3 id="静态类和静态构造函数"><a class="anchor" href="#静态类和静态构造函数">#</a> 静态类和静态构造函数</h3><ul><li>静态类 概念： 用 static 修饰的类</li><li>特点： 只能包含静态成员 不能被实例化</li><li>作用：</li></ul><ol><li>将常用的静态成员写在静态类中方便使用</li><li>静态类不能被实例化，更能体现工具类的唯一性</li></ol><ul><li>静态构造函数 概念： 在构造函数加上 static 修饰</li><li>特点：<ol><li>静态类和普通类都可以有</li><li>不能使用访问修饰符</li><li>不能有参数</li><li>只会自动调用一次</li></ol></li><li>作用：在静态构造函数中初始化静态变量</li></ul><h3 id="拓展方法"><a class="anchor" href="#拓展方法">#</a> 拓展方法</h3><ul><li>概念：为现有非静态 变量类型 添加新方法</li><li>作用</li></ul><ol><li>提升程序拓展性</li><li>不需要再对象中重新写方法</li><li>不需要继承来添加方法</li><li>为别人封装的类型写额外的方法</li></ol><ul><li>特点<ol><li>一定是写在静态类中</li><li>一定是个静态函数</li><li>第一个参数为拓展目标</li><li>第一个参数用 this 修饰</li></ol></li><li>语法： <code>访问修饰符static返回值 函数名（this拓展类名参数名，参数类型参数名，参数类型参数名...）</code> 可以有返回值 和 n 个参数</li><li>为现有的非静态 变量类型添加方法 `</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Zfx</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> C<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> K<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">Zfx</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            C <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>            K <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span>  <span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token keyword">return</span> C <span class="token operator">+</span> K <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">zfx</span> </pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token keyword">static</span> <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Zfx</span> z<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token keyword">return</span> z<span class="token punctuation">.</span>C <span class="token operator">*</span> z<span class="token punctuation">.</span>K<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token punctuation">&#125;</span> </pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>           <span class="token class-name">Zfx</span> z <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Zfx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            </pre></td></tr><tr><td data-num="31"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"面积为"</span><span class="token operator">+</span>z<span class="token punctuation">.</span><span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"周长为"</span><span class="token operator">+</span>z<span class="token punctuation">.</span><span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="运算符重载"><a class="anchor" href="#运算符重载">#</a> 运算符重载</h3><p>概念：让自定义类和结构体能够使用运算符 关键字 operator<br>特点：1. 一定是一个公共的静态方法 2. 返回值写在 operator 前 3. 逻辑处理自定义<br>作用：让自定义类和结构体对象可以进行运算</p><ul><li>可重载运算符<br>算术运算符 + - * / % ++ --<br>逻辑运算符！（非）<br>位运算符 |（位或）&amp;（位与）^（异或）~（取反）&lt;&lt;（左移）&gt;&gt;（右移）<br>条件运算符 &gt; &lt; &gt;= &lt;= == !=</li><li>注意：条件运算符需要成对实现 一个符号可以多个重载 不能使用 ref 和 out</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>     <span class="token keyword">class</span> <span class="token class-name">person</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> x<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> y<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">static</span> <span class="token keyword">public</span> person <span class="token keyword">operator</span> <span class="token operator">+</span><span class="token punctuation">(</span><span class="token class-name">person</span> p1<span class="token punctuation">,</span><span class="token class-name">person</span> p2<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>            <span class="token class-name">person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>            p<span class="token punctuation">.</span>x <span class="token operator">=</span> p1<span class="token punctuation">.</span>x <span class="token operator">+</span> p2<span class="token punctuation">.</span>x<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>            p<span class="token punctuation">.</span>y <span class="token operator">=</span> p1<span class="token punctuation">.</span>y <span class="token operator">+</span> p2<span class="token punctuation">.</span>y<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            <span class="token keyword">return</span> p<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token punctuation">&#125;</span>  </pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token class-name">person</span> p<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            p<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            p<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token class-name">person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   </pre></td></tr><tr><td data-num="24"></td><td><pre>            p2<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            p2<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token class-name">person</span> p3<span class="token operator">=</span> p <span class="token operator">+</span> p2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="内部类和分部类"><a class="anchor" href="#内部类和分部类">#</a> 内部类和分部类</h3><ul><li>内部类<br>概念：在一个类中再声明一个类<br>特点：使用时要用包裹者点出自己<br>作用：亲密关系的变现<br>注意：访问修饰符作用很大</li><li>分部类<br>概念：把一个类分成几部分申明<br>关键字：partial<br>作用：分部描述一个类 增加程序的拓展性<br>注意：分部类可以写在多个脚本文件中 分部类的访问修饰符要一致 分部类中不能有重复成员</li></ul><h2 id="面向对象-继承"><a class="anchor" href="#面向对象-继承">#</a> 面向对象 - 继承</h2><h3 id="继承"><a class="anchor" href="#继承">#</a> 继承</h3><p>一个个类 A 继承一个类 B<br>类 A 将会继承类 B 的所有成员<br>A 类将拥有 B 类的所有特征和行为</p><ul><li>被继承的类称为：父类、基类、超类</li><li>继承的类称为：子类 派生类<br>子类可以有自己的特征和行为</li><li>特点<br>1. 单根性子类只能有一个父类<br>2. 传递性子类可以间接继承父类的父类</li><li>语法： <code>class 类名:被继承的类名&#123;&#125;</code></li></ul><h3 id="里氏替换原则"><a class="anchor" href="#里氏替换原则">#</a> 里氏替换原则</h3><p>里氏替换原则是面向对象七大原则中最重要的原则</p><ul><li>概念：<br>任何父类出现的地方，子类都可以替代</li><li>重点:<br>语法表现一父类容器装子类对象，因为子类对象包含了父类的所有内容</li><li>作用：<br>方便进行对象存储和管理</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">GameObject</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Player</span><span class="token punctuation">:</span><span class="token type-list"><span class="token class-name">GameObject</span></span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">playAtk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"玩家攻击"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Boos</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">GameObject</span></span> </pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">BoosAtk</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"BOOS攻击"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Monster</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">GameObject</span></span> </pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">MonsterAtk</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"怪兽攻击"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token comment">// 用父类容器 装载子类对象</span></pre></td></tr><tr><td data-num="34"></td><td><pre>            <span class="token class-name">GameObject</span> player <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Player</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token class-name">GameObject</span> monster <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Monster</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            <span class="token class-name">GameObject</span> boos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Boos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>            </pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token keyword">if</span><span class="token punctuation">(</span>player <span class="token keyword">is</span> <span class="token class-name">Player</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="39"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>              <span class="token comment">// 如果是进来不是 返回</span></pre></td></tr><tr><td data-num="41"></td><td><pre>              <span class="token class-name">Player</span> p <span class="token operator">=</span> player <span class="token keyword">as</span> <span class="token class-name">Player</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>              p<span class="token punctuation">.</span><span class="token function">playAtk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>is 和 as<br>is: 判断一个对象是否是执行类对象<br>返回值：boo1 是为真不是为假<br>as：将一个对象转换为指定类对象<br>返回值：指定类型对象<br>成功返回执行类型对象，失败返回 nu1l</li><li>基本语法<br>类对象 is 类名 该语句块会有一个 bool 返回值 true 和 false<br>类对象 as 类名 该语句块会有一个对象返回值对象和 nu1l</li></ul><h3 id="继承中的构造函数"><a class="anchor" href="#继承中的构造函数">#</a> 继承中的构造函数</h3><p>特点：先执行父类构造函数 再执行子类的构造函数<br>注意：1. 父类的无参构造 很重要 2. 父类可以通过 base 关键字 代表父类 调用父类构造函数<br>顺序：父类的父类的构造一 &gt; 父类构造一 &gt; 子类构造<br>总结</p><ul><li>继承中的构造函数<br>特点<br>执行顺序是先执行父类的构造函数再执行子类的从老祖宗开始依次一代一代向下执行<br>父类中的无参构造函数很重要<br>如果被顶掉子类中就无法默认调用无参构造了<br>解决方法：<br>1. 始终保持申明一个无参构造<br>2. 通过 base 关键字调用指定父类的构造<br>注意:<br>区分 this 和 base 的区别</li></ul><h3 id="万物之父和装箱拆箱"><a class="anchor" href="#万物之父和装箱拆箱">#</a> 万物之父和装箱拆箱</h3><ul><li>万物之父<br>关键字：object<br>概念：<br>object 是所有类型的基类，它是一个类（引 l 用类型）<br>作用：<br>1. 可以利用里氏替换原则，用 object 容器装所有对象<br>2. 可以用来表示不确定类型，作为函数参数类型</li><li>装箱拆箱</li><li>发生条件<br>用 object 存值类型（装箱）<br>再把 object 转为值类型（拆箱）<br>装箱：<br>把值类型用引用类型存储<br>栈内存会迁移到堆内存中<br>拆箱：<br>把引用类型存储的值类型取出来<br>堆内存会迁移到栈内存中</li><li>好处：不确定类型时可以方便参数的存储和传递</li><li>坏处：存在内存迁移，增加性能消耗</li></ul><h3 id="蜜蜂类"><a class="anchor" href="#蜜蜂类">#</a> 蜜蜂类</h3><ul><li>密封类：是使用 sealed 密封关键字修饰的类</li><li>作用： 让类无法再被继承</li></ul><h2 id="面向对象-多态"><a class="anchor" href="#面向对象-多态">#</a> 面向对象 - 多态</h2><h3 id="vob"><a class="anchor" href="#vob">#</a> vob</h3><p>多态按字面的意思就是 “多种状态”<br>让继承同一父类的子类们在执行相同方法时有不同的表现（状态）<br>主要目的<br>同一父类的对象执行相同行为（方法）有不同的表现<br>解决的问题<br>让同一个对象有唯一行为的特征</p><ul><li>v:virtual（虚函数）</li><li>o：override (重写）</li><li>b：base (父类）</li><li>示例：</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token keyword">class</span> <span class="token class-name">GameObject</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">GameObject</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Atk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"防御"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Player</span><span class="token punctuation">:</span><span class="token type-list"><span class="token class-name">GameObject</span></span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">Player</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">base</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>  </pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token keyword">base</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Atk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">Atk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 保留父类</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"攻击"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token class-name">GameObject</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Player</span><span class="token punctuation">(</span><span class="token string">"冯绍峰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>            p<span class="token punctuation">.</span><span class="token function">Atk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="抽象类和抽象函数"><a class="anchor" href="#抽象类和抽象函数">#</a> 抽象类和抽象函数</h3><ul><li>抽象类</li><li>概念：被抽象关键字 abstract 修饰的类</li><li>特点:</li></ul><ol><li>不能被实例化的类</li><li>可以包含抽象方法</li><li>继承抽象类必须重写其抽象方法</li></ol><ul><li>抽象类不能被实例化 但是可以用里氏替换原则 父类容器装子类</li><li>抽象函数<br>又叫纯虚方法<br>用 abstract 关键字修饰的方法</li><li>特点:<ol><li>只能在抽象类中申明</li><li>没有方法体</li><li>不能是私有的</li><li>继承后必须实现用 override 重写</li></ol></li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">DongWu</span> </pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>        </pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">spk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">DongWu</span></span> </pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        </pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">spk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"人叫"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        </pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Mao</span><span class="token punctuation">:</span><span class="token type-list"><span class="token class-name">DongWu</span></span> </pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">spk</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"猫叫"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token class-name">DongWu</span> d <span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>            <span class="token class-name">DongWu</span> d2 <span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Mao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            d<span class="token punctuation">.</span><span class="token function">spk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>            d2<span class="token punctuation">.</span><span class="token function">spk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token punctuation">&#125;</span>      </pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="接口"><a class="anchor" href="#接口">#</a> 接口</h3><p><code>接口是行为的抽象规范</code><br>它也是一种自定义类型<br>关键字:interface</p><ul><li>接口声明的规范</li></ul><ol><li>不包含成员变量</li><li>只包含方法、属性、索引器、事件</li><li>成员不能被实现</li><li>成员可以不用写访问修饰符，不能是私有的</li><li>接口不能继承类，但是可以继承另一个接口</li></ol><ul><li>接口的使用规范</li></ul><ol><li>类可以继承多个接口</li><li>类继承接口后，必须实现接口中所有成员</li></ol><ul><li><p>特点:</p><ol><li>它和类的申明类似</li><li>接口是用来继承的</li><li>接口不能被实例化，但是可以作为容器存储对象</li></ol></li><li><p>语法 <code>interface 接口名 &#123; &#125;</code> 接口是抽象行为的基类 接口命名规范 帕斯卡前面加个 I</p></li></ul><h3 id="蜜蜂方法"><a class="anchor" href="#蜜蜂方法">#</a> 蜜蜂方法</h3><p>用密封关键字 sealed 修饰的重写函数<br>作用：让虚方法或者抽象方法之后不能再被重写<br>特点：和 override 一起出现</p><h2 id="面向对象关联知识点"><a class="anchor" href="#面向对象关联知识点">#</a> 面向对象关联知识点</h2><h3 id="命名空间"><a class="anchor" href="#命名空间">#</a> 命名空间</h3><ul><li>概念：命名空间是用来组织和重用代码的</li><li>作用：就像是一个工具包，类就像是一件一件的工具，都是申明在命名空间中的</li><li>语法 <code>namespace 命名空间名 &#123;类&#125;</code></li><li>总结<ol><li>命名空间是个工具包用来管理类的</li><li>不同命名空间中可以有同名类</li><li>不同命名空间中相互使用需要 using 引 l 用命名空间或者指明出处</li><li>命名空间可以包裹命名空间</li></ol></li></ul><h3 id="万物之父中的方法"><a class="anchor" href="#万物之父中的方法">#</a> 万物之父中的方法</h3><ul><li>Object 中的静态方法</li><li>静态方法 <code>Equals</code> 判断两个对象是否相等<br>最终的判断权，交给左侧对象的 Equals 方法，<br>不管值类型引 I 用类型都会按照左侧对象 Equa1s 方法的规则来进行比较</li><li>静态方法 ReferenceEquals<br>比较两个对象是否是相同的引用，主要是用来比较引用类型的对象。<br>值类型对象返回值始终是 false。</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre>Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword">object</span><span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>            <span class="token class-name">Text</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>            <span class="token class-name">Text</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword">object</span><span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>t2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword">object</span><span class="token punctuation">.</span><span class="token function">ReferenceEquals</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>t2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><ul><li>object 中的成员方法<br>普通方法 GetType<br>该方法在反射相关知识点中是非常重要的方法，之后我们会具体的<br>该方法的主要作用就是获取对象运行时的类型 Type，<br>通过 Type 结合反射相关知识点可以做很多关于对象的操作。<br>普通方法 MemberwiseClone<br>该方法用于获取对象的浅拷贝对象，口语化的意思就是会返回一个<br>但是新对象中的引用变量会和老对象中一致。</li><li>object 中的虚方法<br>虚方法 Equals<br>默认实现还是比较两者是否为同一个引用，即相当于 ReferenceEquals。<br>但是微软在所有值类型的基类 System.ValueType 中重写了该方法，用来比较值相等。<br>我们也可以重写该方法，定义自己的比较相等的规则<br>虚方法 GetHashCode<br>该方法是获取对象的哈希码<br>（一种通过算法算出的，表示对象的唯一编码，不同对象哈希码有可能一样，具体值根据哈希算法决定）<br>我们可以通过重写该函数来自己定义对象的哈希码算法，正常情况下，我们使用的极少，基本不用。<br>虚方法 ToString<br>该方法用于返回当前对象代表的字符串，我们可以重写它定义我们自己的对象转字符串规则<br>该方法非常常用。当我们调用打印方法时，默认使用的就是对象的 ToString 方法后打印出来的内容。</li></ul><h3 id="结构体和类的区别"><a class="anchor" href="#结构体和类的区别">#</a> 结构体和类的区别</h3><ul><li>概述：<br>结构体和类最大的区别是在存储空间上的，因为结构体是值 类是引用<br>因此他们的存储位置一个在栈上，一个在堆上，<br>通之前知识点的学习，我相信你能够从此处看出他们在使用的区别一值和引用对象在赋值时的区别。</li><li>细节区别<br>结构体是值类型，类是引用类型<br>结构体存在栈中，类存在堆中<br>结构体成员不能使用 protected 访问修饰符，而类可以<br>结构体成员变量申明不能指定初始值，而类可以<br>结构体不能申明无参的构造函数，而类可以<br>结构体申明有参构造函数后，无参构造不会被顶掉<br>结构体不能申明析构函数，而类可以<br>结构体不能被继承，而类可以<br>结构体需要在构造函数中初始化所有成员变量，而类随意<br>结构体不能被静态 static 修饰（不存在静态结构体），而类可以<br>结构体不能在自己内部申明和自已一样的结构体变量，而类可以</li><li>结构体可以继承接口 因为接口是行为的抽象</li><li>如何选择结构体和类</li></ul><ol><li>想要用继承和多态时，直接淘汰结构体，比如玩家、怪物等等</li><li>对象是数据集合时，优先考虑结构体，比如位置、坐标等等</li><li>从值类型和引用类型赋值时的区别上去考虑，比如经常被赋值传递的对象，并且<br>改变赋值对象，原对象不想跟着变化时，就用结构体。比如坐标、向量、旋转等等</li></ol><h3 id="抽象类和接口的区别"><a class="anchor" href="#抽象类和接口的区别">#</a> 抽象类和接口的区别</h3><ul><li>相同点：<ol><li>都可以被继承</li><li>都不能直接实例化</li><li>都可以包含方法申明</li><li>子类必须实现未实现的方法</li><li>都遵循里氏替换原则</li></ol></li><li>区别：<ol><li>抽象类中可以有构造函数；接口中不能</li><li>抽象类只能被单一继承；接口可以被继承多个</li><li>抽象类中可以有成员变量；接口中不能</li><li>抽象类中可以申明成员方法，虚方法，抽象方法，静态方法；接口中只能申明没有实现的抽象方法</li><li>抽象类方法可以使用访问修饰符；接口中建议不写，默认 public</li></ol></li></ul><h1 id="进阶"><a class="anchor" href="#进阶">#</a> 进阶</h1><h2 id="简单数据结构类"><a class="anchor" href="#简单数据结构类">#</a> 简单数据结构类</h2><h3 id="arraylist"><a class="anchor" href="#arraylist">#</a> Arraylist</h3><p>ArrayList 是一个 c# 为我们封装好的类，<br>它的本质是一个 pject 类型的数组<br>ArrayList 类帮助我们实现了很多方法，<br>比如数组的增删查改</p><ul><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Text</span> </pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            <span class="token class-name">ArrayList</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token class-name">ArrayList</span> array2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>            <span class="token comment">// 增</span></pre></td></tr><tr><td data-num="16"></td><td><pre>            array<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>            array<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            array<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            array<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">object</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            array<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            array<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token comment">// 删</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            array<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token comment">// 删除指定位置的元素</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            array<span class="token punctuation">.</span><span class="token function">RemoveAt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token comment">// 清空</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token comment">//array.Clear();</span></pre></td></tr><tr><td data-num="28"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token comment">// 查看元素是否存在 返回 bool 类型</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>                </pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>            <span class="token comment">// 查找元素</span></pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span></span> index <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">IndexOf</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>   </pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token comment">// 反向查找返回时 从头开始的索引数</span></pre></td></tr><tr><td data-num="38"></td><td><pre>            index <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">LastIndexOf</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>            <span class="token comment">// 改</span></pre></td></tr><tr><td data-num="41"></td><td><pre>            array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>            <span class="token comment">// 长度</span></pre></td></tr><tr><td data-num="44"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>array<span class="token punctuation">.</span>Count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>            <span class="token comment">// 容量</span></pre></td></tr><tr><td data-num="46"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>array<span class="token punctuation">.</span>Capacity<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>            <span class="token comment">// 遍历</span></pre></td></tr><tr><td data-num="48"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>array<span class="token punctuation">.</span>Count<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="49"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>            <span class="token comment">// 迭代器遍历</span></pre></td></tr><tr><td data-num="53"></td><td><pre>            <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> i <span class="token keyword">in</span> array<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="54"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="57"></td><td><pre></pre></td></tr><tr><td data-num="58"></td><td><pre>        <span class="token punctuation">&#125;</span>      </pre></td></tr><tr><td data-num="59"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="60"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>装箱拆箱<br>ArrayList 本质上是一个可以自动扩容的 object 数组，<br>唐<br>由于用万物之父来存储数据，自然存在装箱拆箱。<br>当往其中进行值类型存储时就是在装箱，当将值类型对象取出来转换使用时，就存在拆箱。<br>所以 ArrayList 尽量少用，之后我们会学习更好的数据容器。</li></ul><h3 id="stack"><a class="anchor" href="#stack">#</a> Stack</h3><ul><li>本质：<br>Stack 是一个 c# 为我们封装好的类<br>它的本质也是 object [数组，只是封装了特殊的存储规则<br>Stack 是栈存储容器，栈是一种先进后出的数据结构<br>先存入的数据后获取，后存入的数据先获取<br>栈是先进后出</li><li>声明<br>需要引用命名空间 using System.Collections</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name">Stack</span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 增</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 压栈</span></pre></td></tr><tr><td data-num="4"></td><td><pre>stack<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 取</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token class-name"><span class="token keyword">object</span></span> v <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 栈无法查看指定位置的元素</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 只能查看栈顶的内容</span></pre></td></tr><tr><td data-num="10"></td><td><pre>v<span class="token operator">=</span>stack<span class="token punctuation">.</span><span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 改 只能清空</span></pre></td></tr><tr><td data-num="13"></td><td><pre>stack<span class="token punctuation">.</span>Clear<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 用 foreach 遍历</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> i <span class="token keyword">in</span> stack<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">// 循环弹栈</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">while</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span>Count <span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token class-name"><span class="token keyword">object</span></span> o <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="queue"><a class="anchor" href="#queue">#</a> Queue</h3><p>Queue 是一个 C# 为我们封装好的类<br>它的本质也是 object [] 数组，只是封装了特殊的存储规则<br>Queue 是队列存储容器<br>队列是一种先进先出的数据结构<br>先存入的数据先获取，后存入的数据后获取<br>先进先出</p><ul><li>声明<br>需要引用命名空间 using System.Collections</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Text</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            <span class="token class-name">Queue</span> q <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token comment">// 增</span></pre></td></tr><tr><td data-num="15"></td><td><pre>            q<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>            q<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>            q<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            q<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            q<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token comment">// 取出先加入的对象 </span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token class-name"><span class="token keyword">object</span></span> v <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">Dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token comment">// 查 （头部）</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            v<span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token comment">// 查 是否存在</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="28"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"存在"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token comment">// 改 只有清空</span></pre></td></tr><tr><td data-num="32"></td><td><pre>            q<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token comment">// 用 foreach 遍历</span></pre></td></tr><tr><td data-num="34"></td><td><pre>            <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> o <span class="token keyword">in</span> q<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token comment">// 循环出列</span></pre></td></tr><tr><td data-num="39"></td><td><pre>            <span class="token keyword">while</span> <span class="token punctuation">(</span>q<span class="token punctuation">.</span>Count <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </pre></td></tr><tr><td data-num="40"></td><td><pre>                <span class="token class-name"><span class="token keyword">object</span></span> o <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">Dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre></pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="hashtalbe"><a class="anchor" href="#hashtalbe">#</a> Hashtalbe</h3><p>Hashtable（又称散列表）是基于键的哈希代码组织起来的键 / 值对<br>它的主要作用是提高数据查询的效率<br>使用键来访问集合中的元素</p><ul><li>声明<br>需要引用命名空间 using System.Collections</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>            <span class="token class-name">Hashtable</span> ht <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Hashtable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token comment">// 增</span></pre></td></tr><tr><td data-num="10"></td><td><pre>            ht<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 1 是键</span></pre></td></tr><tr><td data-num="11"></td><td><pre>            ht<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>            <span class="token comment">// 注意：不能出现相同键</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token comment">// 删除</span></pre></td></tr><tr><td data-num="15"></td><td><pre>            ht<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>            </pre></td></tr><tr><td data-num="17"></td><td><pre>            <span class="token comment">// 删除不存在的键 没反应</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            </pre></td></tr><tr><td data-num="19"></td><td><pre>            ht<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            </pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token comment">// 清空</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            ht<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token comment">// 查 通过键查看 找不到返回空</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ht<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token comment">// 是否存在 检测键</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>ht<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 和 ht.ContainsKey 一样  ht.ContainsValue 检测值</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token comment">// 改 键对应的值</span></pre></td></tr><tr><td data-num="31"></td><td><pre>            ht<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token comment">// 键值对 对数</span></pre></td></tr><tr><td data-num="34"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ht<span class="token punctuation">.</span>Count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token comment">// 用 foreach 遍历所有键</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> o <span class="token keyword">in</span> ht<span class="token punctuation">.</span>Keys<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"键"</span><span class="token operator">+</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"值"</span> <span class="token operator">+</span> ht<span class="token punctuation">[</span>o<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>            <span class="token comment">// 遍历所有值</span></pre></td></tr><tr><td data-num="42"></td><td><pre>            <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> i <span class="token keyword">in</span> ht<span class="token punctuation">.</span>Values<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="43"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>                </pre></td></tr><tr><td data-num="45"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"值"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>            <span class="token comment">// 遍历键值对</span></pre></td></tr><tr><td data-num="48"></td><td><pre>            <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">DictionaryEntry</span> i <span class="token keyword">in</span> ht<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="49"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>                </pre></td></tr><tr><td data-num="51"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"键:"</span> <span class="token operator">+</span> i<span class="token punctuation">.</span>Key <span class="token operator">+</span><span class="token string">"值"</span> <span class="token operator">+</span> i<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="53"></td><td><pre></pre></td></tr><tr><td data-num="54"></td><td><pre></pre></td></tr><tr><td data-num="55"></td><td><pre></pre></td></tr><tr><td data-num="56"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="58"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="泛型"><a class="anchor" href="#泛型">#</a> 泛型</h2><h3 id="泛型-2"><a class="anchor" href="#泛型-2">#</a> 泛型</h3><ul><li>概述<br>泛型实现了类型参数化，达到代码重用目的<br>通过类型参数化来实现同一份代码上操作多种类型<br>泛型相当于类型占位符<br>定义类或方法时使用替代符代表变量类型<br>当真正使用类或者方法时再具体指定类型</li><li>泛型分类<br>泛型接口和泛型类</li><li>语法：类： <code>class 类名&lt;泛型占位字母&gt;</code> 接口： <code>interface 接口名&lt;泛型占位字母&gt;</code></li><li>泛型函数：基本语法：函数名 &lt;泛型占位字母&gt;(参数列表）</li><li>注意：泛型占位字母可以有多个 用逗号分开</li></ul><h3 id="泛型约束"><a class="anchor" href="#泛型约束">#</a> 泛型约束</h3><ul><li>泛型约束：让泛型的类型有一定的限制 关键字：where 泛型约束一共有 6 种<ol><li>值类型：where 泛型字母:struct</li><li>引用类型：where 泛型字母:class</li><li>存在无参公共构造函数：where 泛型字母:new ()</li><li>某个类本身或者其派生类：where 泛型字母：类名</li><li>某个接口的派生类型：where 泛型字母：接口名</li><li>另一个泛型类型本身或者派生类型：where 泛型字母：另一个泛型字母</li></ol></li></ul><h2 id="常用泛型数据结构类"><a class="anchor" href="#常用泛型数据结构类">#</a> 常用泛型数据结构类</h2><h3 id="list"><a class="anchor" href="#list">#</a> List</h3><p>List 是一个 C# 为我们封装好的类<br>它的本质是一个可变类型的泛型数组，<br>List 类帮助我们实现了很多方法，<br>比如泛型数组的增删查改</p><ul><li>声明<br>需要引用命名空间 using System.Collections.Generic<br><code>List&lt;int&gt; list = new List&lt;int&gt;();</code> &lt;是什么类型写什么类型&gt;</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            <span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">></span></span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token comment">// 增</span></pre></td></tr><tr><td data-num="15"></td><td><pre>            i<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>            i<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>            i<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            <span class="token comment">// 删</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token comment">//i.Remove(1);</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token comment">//// 删除指定位置的元素</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token comment">//i.RemoveAt(2);</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token comment">//// 清空</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token comment">////i.Clear();</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token comment">//i.Add(1);</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token comment">//i.Add(5);</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token comment">//i.Add(6);</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token comment">//i.Add(7);</span></pre></td></tr><tr><td data-num="28"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token comment">// 查 是否存在</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>            <span class="token comment">// 改</span></pre></td></tr><tr><td data-num="35"></td><td><pre>            i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">333333</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="dictoary"><a class="anchor" href="#dictoary">#</a> Dictoary</h3><p>可以将 Dictionary 理解为拥有泛型的 Hashtable<br>它也是基于键的哈希代码组织起来的键 / 值对<br>键值对类型从 Hashtable 的 object 变为了可以自己制定的泛型</p><ul><li>声明<br>需要引用命名空间 using System.Collections.Generic</li><li><code>Dictioary&lt;int,string&gt; d = new Dictionary&lt;int,string&gt;();</code></li></ul><h3 id="顺序存储和链式存储"><a class="anchor" href="#顺序存储和链式存储">#</a> 顺序存储和链式存储</h3><h4 id="数据结构"><a class="anchor" href="#数据结构">#</a> 数据结构</h4><p>数据结构是计算机存储、组织数据的方式（规则）<br>数据结构是指相互之间存在一种或多种特定关系的数据元素的集合<br>比如自定义的一个类也可以称为一种数据结构自己定义的数据组合规则<br>不要把数据结构想的太复杂<br>简单点理解，就是人定义的存储数据和表示数据之间关系的规则而已<br>常用的数据结构（前辈总结和制定的一些经典规则）<br>数组、栈、队列、链表、树、图、堆、散列表</p><h4 id="线性表"><a class="anchor" href="#线性表">#</a> 线性表</h4><p>线性表是一种数据结构，是由 n 个具有相同特性的数据元素的有限序列<br>比如数组、ArrayList、Stack、Queue、链表等等</p><h4 id="顺序存储和链式存储-2"><a class="anchor" href="#顺序存储和链式存储-2">#</a> 顺序存储和链式存储</h4><p>是数据结构中两种 存储结构</p><ul><li>顺序存储<br>数组、Stack、Queue、List、ArrayList 一顺序存储<br>只是数组、Stack、Queue 的组织规则不同而已<br>顺序存储：<br>用一组地址连续的存储单元依次存储线性表的各个数据元素</li><li>链式存储<br>单向链表、双向链表、循环链表一链式存储<br>链式存储（链接存储）：<br>用一组任意的存储单元存储线性表中的各个数据元素</li><li>单向链表 示例：</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Linq</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Security<span class="token punctuation">.</span>Cryptography</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Text</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Threading<span class="token punctuation">.</span>Tasks</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Xml<span class="token punctuation">.</span>Schema</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token comment">// 单向链表节点</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Text<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token keyword">value</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token comment">// 存储下一个元素</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name">Text<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span> nextNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token class-name">T</span> <span class="token keyword">value</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token keyword">value</span> <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token comment">// 单向链表类 管理 链表节点</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Text2<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span> </pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name">Text<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span> head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name">Text<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span> last<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token class-name">T</span> <span class="token keyword">value</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token class-name">Text<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span> n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Text<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>                head <span class="token operator">=</span> n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>                last <span class="token operator">=</span> n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            <span class="token keyword">else</span> </pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>                last<span class="token punctuation">.</span>nextNode <span class="token operator">=</span> n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>                last <span class="token operator">=</span> n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Remove</span><span class="token punctuation">(</span><span class="token class-name">T</span> <span class="token keyword">value</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="43"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>head<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="45"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>                <span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span><span class="token keyword">value</span><span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="49"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>                head <span class="token operator">=</span> head<span class="token punctuation">.</span>nextNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>                <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="52"></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>                    last <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>                <span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>            <span class="token class-name">Text<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span> n<span class="token operator">=</span>head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>            <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>nextNode <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="59"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>                <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>nextNode<span class="token punctuation">.</span><span class="token keyword">value</span><span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="61"></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>                    <span class="token comment">// 让当前找到的这个元素的上一个节点 指向 自己的下一个节点</span></pre></td></tr><tr><td data-num="63"></td><td><pre>                   </pre></td></tr><tr><td data-num="64"></td><td><pre>                    n<span class="token punctuation">.</span>nextNode <span class="token operator">=</span> n<span class="token punctuation">.</span>nextNode<span class="token punctuation">.</span>nextNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>                    <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>            </pre></td></tr><tr><td data-num="69"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre></pre></td></tr><tr><td data-num="71"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="72"></td><td><pre></pre></td></tr><tr><td data-num="73"></td><td><pre></pre></td></tr><tr><td data-num="74"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="75"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="77"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>            <span class="token class-name">Text2<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">></span></span> l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Text2<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>            l<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>            l<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>            l<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>            l<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>            <span class="token class-name">Text<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">></span></span> n<span class="token operator">=</span>l<span class="token punctuation">.</span>head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>            <span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="85"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>                n <span class="token operator">=</span> n<span class="token punctuation">.</span>nextNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>            l<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>            n <span class="token operator">=</span> l<span class="token punctuation">.</span>head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>            <span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="92"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="93"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="94"></td><td><pre>                n <span class="token operator">=</span> n<span class="token punctuation">.</span>nextNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="95"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="98"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>顺序存储和链式存储的优缺点<br>从增删查改的角度去思考<br>增：链式存储计算上优于顺序存储 （中间插入时链式不用像顺序一样去移动位置）<br>删：链式存储计算上优于顺序存储 （中间删除时链式不用像顺序一样去移动位置）<br>查：顺序存储使用上优于链式存储 （数组可以直接通过下标得到元素，链式需要遍历）<br>改：顺序存储使用上优于链式存储 （数组可以直接通过下标得到元素，链式需要遍历）</li></ul><h3 id="linkedlist"><a class="anchor" href="#linkedlist">#</a> LinkedList</h3><p>LinkedList 是一个 C# 为我们封装好的类<br>它的本质是一个可变类型的泛型双向链表</p><ul><li>声明<br>需要引用命名空间 using System.Collections.Generic</li></ul><h2 id="委托和事件"><a class="anchor" href="#委托和事件">#</a> 委托和事件</h2><h3 id="委托"><a class="anchor" href="#委托">#</a> 委托</h3><p>委托是函数（方法）的容器<br>可以理解为表示函数（方法）的变量类型<br>用来存储、传递函数（方法）<br>委托的本质是一个类，用来定义函数（方法）的类型（返回值和参数的类型）<br>不同的函数（方法）必须对应和各自” 格式” 一致的委托</p><ul><li>关键字：delegate</li><li>语法： <code>访问修饰符 delegate 返回值 委托名（参数列表）;</code></li><li>声明在 namespace 和 class 语句块中 更多的写在 namespace 中</li><li>简单记忆委托语法就是函数申明语法前面加一个 delegate 关键字</li><li>定义自定义委托<br>访问修饰默认不写为 pub 在别的命名空间中也能使用<br>private 其它命名空间就不能用了<br>一般使用 public<br><code>delegate void MyFyn();</code></li><li>声明了一个可以用来存储无参无返回值函数的容器 这里只是定义规则 没有使用</li><li>委托规则的声明 是不能重名的 （在同意语句块中）</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">// 委托</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">delegate</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">MyFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">delegate</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">MyFun2</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            <span class="token comment">// 第一种</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token class-name">MyFun</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MyFun</span><span class="token punctuation">(</span>Fun<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 把 Fun 装到容器中 不会执行函数</span></pre></td></tr><tr><td data-num="15"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token comment">// 调用 Fun</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            f<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token comment">// 第二种</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token class-name">MyFun</span> f2 <span class="token operator">=</span> Fun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token comment">// 1</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token class-name">MyFun2</span> f3 <span class="token operator">=</span> Fun2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token function">f3</span><span class="token punctuation">(</span><span class="token number">999</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="28"></td><td><pre>            <span class="token comment">// 2</span></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token class-name">MyFun2</span> f4 <span class="token operator">=</span> Fun2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f4<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token number">999</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="33"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"123123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">Fun2</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="37"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token keyword">return</span> <span class="token keyword">value</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>委托常用在：1. 作为类的成员 2. 作为函数的参数</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">delegate</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">MyFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">delegate</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">MyFun2</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Test</span> </pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">MyFun</span> fun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">MyFun2</span> fun2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">TestFun</span><span class="token punctuation">(</span><span class="token class-name">MyFun</span> fun<span class="token punctuation">,</span> <span class="token class-name">MyFun2</span> fun2<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token comment">// 先处理一些别的逻辑 当这些逻辑处理完了 再执行传入的函数</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token comment">//fun();</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token comment">//fun2(2);</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>fun <span class="token operator">=</span> fun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>fun2 <span class="token operator">=</span> fun2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>     <span class="token class-name">Test</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>     t<span class="token punctuation">.</span><span class="token function">TestFun</span><span class="token punctuation">(</span>Fun<span class="token punctuation">,</span> Fun2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><ul><li>委托变量可以存储多个函数（多播委托）</li><li>系统定义好的委托<br>Action 无参无返 Func（泛型委托）</li></ul><h3 id="事件"><a class="anchor" href="#事件">#</a> 事件</h3><p>事件是基于委托的存在<br>事件是委托的安全包裹<br>让委托的使用更具有安全性<br>事件是一种特殊的变量类型</p><ul><li>申明语法：<br><code>访问修饰符event 委托类型 事件名;</code></li><li>事件的使用：<ol><li>事件是作为成员变量存在于类中</li><li>委托怎么用事件就怎么用</li></ol></li><li>事件相对于委托的区别：<ol><li>不能在类外部赋值</li><li>不能再类外部调用</li></ol></li><li>注意：<br>它只能作为成员存在于类和接口以及结构体中</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   </pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Test</span> </pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token comment">// 委托成员函数 用于存储 函数的</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name">Action</span> myFun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token comment">// 事件成员变量 用于存储 函数的</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">public</span> <span class="token keyword">event</span> <span class="token class-name">Action</span> myEvent<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>            myFun <span class="token operator">=</span>Testfun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>            myFun <span class="token operator">+=</span>Testfun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            myFun <span class="token operator">-=</span>Testfun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token function">myFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            myFun<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            myFun <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  </pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>            myEvent<span class="token operator">=</span>Testfun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            myEvent<span class="token operator">+=</span>Testfun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            myEvent<span class="token operator">-=</span>Testfun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token function">myEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            myEvent<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>            myEvent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Testfun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="41"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>            <span class="token class-name">Test</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>           <span class="token comment">// 委托可以在外部赋值</span></pre></td></tr><tr><td data-num="44"></td><td><pre>            test<span class="token punctuation">.</span>myFun<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>            test<span class="token punctuation">.</span>myFun <span class="token operator">=</span> TestFun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>            <span class="token comment">// 事件不可以</span></pre></td></tr><tr><td data-num="47"></td><td><pre>            <span class="token comment">// test.myEvent=null;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>            <span class="token comment">// test.myEvent=TestFun;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>            <span class="token comment">// 虽然不能直接赋值 但是可以 加减 去添加移除记录的函数</span></pre></td></tr><tr><td data-num="50"></td><td><pre>            test<span class="token punctuation">.</span>myEvent <span class="token operator">+=</span> TestFun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>            test<span class="token punctuation">.</span>myEvent <span class="token operator">-=</span> TestFun<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>            <span class="token comment">// 委托可以在外部调用</span></pre></td></tr><tr><td data-num="53"></td><td><pre>            test<span class="token punctuation">.</span><span class="token function">myFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>            test<span class="token punctuation">.</span>myFun<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>            <span class="token comment">// 事件不可以</span></pre></td></tr><tr><td data-num="56"></td><td><pre>            <span class="token comment">// test.myEvent();</span></pre></td></tr><tr><td data-num="57"></td><td><pre>            <span class="token comment">// 只能在类的内部去封装调用 更安全</span></pre></td></tr><tr><td data-num="58"></td><td><pre></pre></td></tr><tr><td data-num="59"></td><td><pre>            <span class="token comment">// 为什么有事件</span></pre></td></tr><tr><td data-num="60"></td><td><pre>            <span class="token comment">//1. 防止外部随意置空委托</span></pre></td></tr><tr><td data-num="61"></td><td><pre>            <span class="token comment">//2. 防止外部随意调用委托</span></pre></td></tr><tr><td data-num="62"></td><td><pre>            <span class="token comment">//3. 事件相当于对委托进行了一次封装让其更加安全</span></pre></td></tr><tr><td data-num="63"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre></pre></td></tr><tr><td data-num="65"></td><td><pre>        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">TestFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="66"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>            </pre></td></tr><tr><td data-num="68"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre></pre></td></tr><tr><td data-num="71"></td><td><pre></pre></td></tr><tr><td data-num="72"></td><td><pre></pre></td></tr><tr><td data-num="73"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>总结<br>总结<br>事件和委托的区别<br>事件和委托的使用基本是一模一样的<br>事件就是特殊的委托<br>主要区别：<ol><li>事件不能再外部使用赋值 = 符号，只能使用 +- 委托哪里都能用</li><li>事件不能再外部执行委托哪里都能执行</li><li>事件不能作为函数中的临时变量的委托可以</li></ol></li></ul><h3 id="匿名函数"><a class="anchor" href="#匿名函数">#</a> 匿名函数</h3><p>顾名思义，就是没有名字的函数<br>匿名函数的使用主要是配合委托和事件进行使用<br>脱离委托和事件是不会使用匿名函数的</p><ul><li>一般情况下作为函数返回值 或者 参数传递</li><li>语法： <code>delegate（参数列表)&#123;&#125;</code></li><li>示例：</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>            <span class="token comment">// 无参匿名函数</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            <span class="token class-name">Action</span> a <span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"匿名函数"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>            <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            <span class="token comment">// 有参匿名函数</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token class-name">Action<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">></span></span> b <span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> c<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> d<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token function">b</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">"1222"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token comment">// 有返回值</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token class-name">Func<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span></span> f <span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>                <span class="token keyword">return</span> <span class="token string">"23132123112313213213213212322321"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre>            <span class="token comment">// 参数传递</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token class-name">Test</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>            t<span class="token punctuation">.</span><span class="token function">Dosomthing</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token keyword">delegate</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"随参数传入的匿名函数逻辑"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre>            <span class="token comment">// 返回值</span></pre></td></tr><tr><td data-num="40"></td><td><pre>            <span class="token comment">//Action ac=t.GetFun();</span></pre></td></tr><tr><td data-num="41"></td><td><pre>            <span class="token comment">//ac();</span></pre></td></tr><tr><td data-num="42"></td><td><pre>            <span class="token comment">// 一步到位</span></pre></td></tr><tr><td data-num="43"></td><td><pre>            t<span class="token punctuation">.</span><span class="token function">GetFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>            </pre></td></tr><tr><td data-num="47"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// Fun 参数可以替换为匿名函数</span></pre></td></tr><tr><td data-num="48"></td><td><pre></pre></td></tr><tr><td data-num="49"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre></pre></td></tr><tr><td data-num="51"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="52"></td><td><pre></pre></td></tr><tr><td data-num="53"></td><td><pre></pre></td></tr><tr><td data-num="54"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Test</span> </pre></td></tr><tr><td data-num="56"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name">Action</span> action<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>        <span class="token comment">// 作为参数传递时</span></pre></td></tr><tr><td data-num="59"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Dosomthing</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> a<span class="token punctuation">,</span><span class="token class-name">Action</span> fun<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="60"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>            <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>        <span class="token comment">// 作为返回值</span></pre></td></tr><tr><td data-num="65"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name">Action</span> <span class="token function">GetFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="66"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>            <span class="token keyword">return</span> <span class="token keyword">delegate</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="68"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"函数内部返回的一个匿名函数"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>        </pre></td></tr><tr><td data-num="73"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="74"></td><td><pre></pre></td></tr><tr><td data-num="75"></td><td><pre></pre></td></tr><tr><td data-num="76"></td><td><pre></pre></td></tr><tr><td data-num="77"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>匿名函数缺点：添加到委托或事件容器中后不记录 无法单独移除</li><li>总结<br>匿名函数就是没有名字的函数<br>固定写法<br>delegate (参数列表){}<br>主要是在委托传递和存储时<br>为了方便可以直接使用倪敏该函数<br>缺点是没有办法指定移除</li></ul><h3 id="lambad表达式"><a class="anchor" href="#lambad表达式">#</a> Lambad 表达式</h3><p>可以将 1ambad 表达式理解为匿名函数的简写<br>它除了写法不同外<br>使用上和匿名函数一模一样<br>都是和委托或者事件配合使用的</p><ul><li>语法： <code>lambad表达式（参数列表）=&gt;&#123; 函数体 &#125;</code></li><li>闭包<br>内层的函数可以引用包含在它外层的函数的变量<br>即使外层函数的执行已经终止<br>注意：<br>该变量提供的值并非变量创建时的值，而是在父函数范围内的最终值。</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Test</span> </pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">public</span> <span class="token keyword">event</span> <span class="token class-name">Action</span> action<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        </pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span></span> <span class="token keyword">value</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            <span class="token comment">// 这里形成了闭包 因为 当构造函数执行完毕时 其中声明的临时变量 value 的声明周期被改变了</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            action <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span></pre></td></tr><tr><td data-num="15"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            <span class="token comment">// 该变量提供的值并非变量创建时的值，而是在父函数范围内的最终值。</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>                <span class="token class-name"><span class="token keyword">int</span></span> index <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment">// 此 index 菲彼 index</span></pre></td></tr><tr><td data-num="22"></td><td><pre>                action <span class="token operator">+=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span></pre></td></tr><tr><td data-num="23"></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>                    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>                <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">DoSomthing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="37"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token class-name">Test</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>            test<span class="token punctuation">.</span><span class="token function">DoSomthing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre></pre></td></tr><tr><td data-num="44"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre></pre></td></tr><tr><td data-num="47"></td><td><pre></pre></td></tr><tr><td data-num="48"></td><td><pre></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="list排序"><a class="anchor" href="#list排序">#</a> List 排序</h2><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Item</span> <span class="token punctuation">:</span><span class="token type-list"><span class="token class-name">IComparable<span class="token punctuation">&lt;</span>Item<span class="token punctuation">></span></span></span> <span class="token comment">// 继承接口</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> money<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">Item</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> money<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>            <span class="token keyword">this</span><span class="token punctuation">.</span>money<span class="token operator">=</span>money<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">CompareTo</span><span class="token punctuation">(</span><span class="token class-name">Item</span> other<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>            <span class="token comment">// 返回值的含义</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            <span class="token comment">//1 小于 0:</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token comment">// 放在传入对象的前面</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token comment">// 等于 0：</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token comment">// 保持当前的位置不变</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token comment">// 大于 0:</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token comment">// 放在传入对象的后面</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token comment">// 可以简单理解传入对象的位置就是 e</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token comment">// 如果你的返回为负数就放在它的左边也就前面</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token comment">// 如果你返回正数就放在它的右边也就是后面</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>money <span class="token operator">></span> other<span class="token punctuation">.</span>money<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>                <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token keyword">else</span> </pre></td></tr><tr><td data-num="34"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>                <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>                <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre></pre></td></tr><tr><td data-num="41"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">ShopItem</span> </pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">ShopItem</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="45"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>            <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="49"></td><td><pre></pre></td></tr><tr><td data-num="50"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="51"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="53"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>            <span class="token comment">// 自带排序方法</span></pre></td></tr><tr><td data-num="55"></td><td><pre>            <span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">></span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>            list<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>            list<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>            list<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>            list<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>            list<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>            list<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>            list<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>            list<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>            <span class="token comment">//list 提供了方法</span></pre></td></tr><tr><td data-num="65"></td><td><pre>            list<span class="token punctuation">.</span><span class="token function">Sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span>Count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="67"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="69"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>            <span class="token comment">// 自定义类型排序</span></pre></td></tr><tr><td data-num="71"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"------------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>            <span class="token class-name">List<span class="token punctuation">&lt;</span>Item<span class="token punctuation">></span></span> items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Item<span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>            items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Item</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>            items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Item</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>            items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Item</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>            items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Item</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>            items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Item</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>            items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Item</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>            items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Item</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>            items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Item</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>            items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Item</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>            items<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Item</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>            items<span class="token punctuation">.</span><span class="token function">Sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> items<span class="token punctuation">.</span>Count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="85"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="88"></td><td><pre></pre></td></tr><tr><td data-num="89"></td><td><pre>            <span class="token comment">// 通过委托函数进行排序</span></pre></td></tr><tr><td data-num="90"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"------------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>            List<span class="token operator">&lt;</span>ShopItem<span class="token operator">></span>s<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>ShopItem<span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="92"></td><td><pre>            s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ShopItem</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="93"></td><td><pre>            s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ShopItem</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="94"></td><td><pre>            s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ShopItem</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="95"></td><td><pre>            s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ShopItem</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>            s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ShopItem</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>            s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ShopItem</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="98"></td><td><pre>            s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ShopItem</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="99"></td><td><pre>            s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ShopItem</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="100"></td><td><pre>            s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ShopItem</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="101"></td><td><pre></pre></td></tr><tr><td data-num="102"></td><td><pre>            <span class="token comment">// 方式一</span></pre></td></tr><tr><td data-num="103"></td><td><pre>            s<span class="token punctuation">.</span><span class="token function">Sort</span><span class="token punctuation">(</span><span class="token keyword">delegate</span> <span class="token punctuation">(</span><span class="token class-name">ShopItem</span> a<span class="token punctuation">,</span> <span class="token class-name">ShopItem</span> b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="104"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="105"></td><td><pre>                <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>id <span class="token operator">></span> b<span class="token punctuation">.</span>id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="106"></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="107"></td><td><pre>                    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>                <span class="token keyword">else</span></pre></td></tr><tr><td data-num="110"></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="111"></td><td><pre>                    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>                <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="115"></td><td><pre>            <span class="token comment">// 方式二</span></pre></td></tr><tr><td data-num="116"></td><td><pre>            s<span class="token punctuation">.</span><span class="token function">Sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=></span> </pre></td></tr><tr><td data-num="117"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="118"></td><td><pre>                <span class="token keyword">return</span> a<span class="token punctuation">.</span>id <span class="token operator">></span> b<span class="token punctuation">.</span>id <span class="token punctuation">?</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">;</span></pre></td></tr><tr><td data-num="119"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="120"></td><td><pre>            <span class="token comment">// 方式三</span></pre></td></tr><tr><td data-num="121"></td><td><pre>            s<span class="token punctuation">.</span><span class="token function">Sort</span><span class="token punctuation">(</span>SortShopItem<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span>Count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="123"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="124"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="125"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="126"></td><td><pre></pre></td></tr><tr><td data-num="127"></td><td><pre></pre></td></tr><tr><td data-num="128"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="129"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">SortShopItem</span><span class="token punctuation">(</span><span class="token class-name">ShopItem</span> a<span class="token punctuation">,</span><span class="token class-name">ShopItem</span> b<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="130"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="131"></td><td><pre>            <span class="token comment">// 传入的两个对象 为列表中的两个对象</span></pre></td></tr><tr><td data-num="132"></td><td><pre>            <span class="token comment">// 进行两两的比较 用左边的和右边的条件比较</span></pre></td></tr><tr><td data-num="133"></td><td><pre>            <span class="token comment">// 返回值规则和之前一样做标准负数在左（前）正数在右（后）</span></pre></td></tr><tr><td data-num="134"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>id <span class="token operator">></span> b<span class="token punctuation">.</span>id<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="135"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="136"></td><td><pre>                <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="137"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="138"></td><td><pre>            <span class="token keyword">else</span> </pre></td></tr><tr><td data-num="139"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="140"></td><td><pre>                <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="141"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="142"></td><td><pre>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="143"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="144"></td><td><pre></pre></td></tr><tr><td data-num="145"></td><td><pre></pre></td></tr><tr><td data-num="146"></td><td><pre></pre></td></tr><tr><td data-num="147"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="148"></td><td><pre></pre></td></tr><tr><td data-num="149"></td><td><pre></pre></td></tr><tr><td data-num="150"></td><td><pre></pre></td></tr><tr><td data-num="151"></td><td><pre></pre></td></tr><tr><td data-num="152"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="协变逆变"><a class="anchor" href="#协变逆变">#</a> 协变逆变</h2><ul><li>协变:<br>和谐的变化，自然的变化<br>因为里氏替换原则父类可以装子类<br>所以子类变父类<br>比如 string 变成 object<br>感受是和谐的</li><li>逆变：<br>逆常规的变化，不正常的变化<br>因为里氏替换原则父类可以装子类但是子类不能装父类<br>所以父类变子类<br>比如 object 变成 string<br>感受是不和谐的</li><li>协变和逆变是用来修饰泛型的<br>协变：out<br>逆变：in<br>用于在泛型中修饰泛型字母的<br>只有泛型接口和泛型委托能使用</li><li>作用：<br>用 out 修饰的泛型 只能作为返回值 <code>delegate T TestOut&lt;out T&gt;();</code><br>用 in 修饰的泛型 只能作为参数 <code>delegate void TestIn&lt;in T&gt;(T t);</code></li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment">// 不加 out 不能 = s TestOut&lt;Father> f = s;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token comment">// 加上 out 能自己判断返回值有没有父子关系</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">delegate</span> <span class="token return-type class-name">T</span> <span class="token generic-method"><span class="token function">TestOut</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">out</span> T<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// 加上 in 能自己判断返回值有没有父子关系</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment">// TestIn&lt;Son> so = iF;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">delegate</span> <span class="token return-type class-name"><span class="token keyword">void</span></span>  <span class="token generic-method"><span class="token function">TestIn</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">in</span> T<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Father</span> </pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Father</span></span> </pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token comment">// 协变 父类总是能被子类替换</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token class-name">TestOut<span class="token punctuation">&lt;</span>Son<span class="token punctuation">></span></span> s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token class-name">TestOut<span class="token punctuation">&lt;</span>Father<span class="token punctuation">></span></span> f <span class="token operator">=</span> s<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>            <span class="token class-name">Father</span> of <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 实际上 返回的是 os 里面装的函数 返回的是 son</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>            <span class="token comment">// 逆变 父类总是能被子类替换</span></pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token class-name">TestIn<span class="token punctuation">&lt;</span>Father<span class="token punctuation">></span></span> iF <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token operator">=></span></pre></td></tr><tr><td data-num="36"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>            <span class="token class-name">TestIn<span class="token punctuation">&lt;</span>Son<span class="token punctuation">></span></span> so <span class="token operator">=</span> iF<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>            <span class="token function">so</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 实际上 调用的是 iF</span></pre></td></tr><tr><td data-num="41"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre></pre></td></tr><tr><td data-num="47"></td><td><pre></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="多线程"><a class="anchor" href="#多线程">#</a> 多线程</h2><ul><li>进程<br>进程（Process）是计算机中的程序关于某数据集合上的一次运行活动<br>是系统进行资源分配和调度的基本单位，是操作系统结构的基础<br>说人话：打开一个应用程序就是在操作系统上开启了一个进程<br>进程之间可以相互独立运行，互不干扰<br>进程之间也可以相互访问、操作</li><li>线程<br>操作系统能够进行运算调度的最小单位<br>它被包含在进程之中，是进程中的实际运作单位<br>一条线程指的是进程中一个单一顺序的控制流，一个进程中可以并发多个线程<br>我们目前写的程序都在主线程中<br>简单理解线程：<br>就是代码从上到下运行的一条 “管道”</li><li>多线程<br>我们可以通过代码开启新的线程<br>可以同时运行代码的多条 “管道” 就叫多线程</li><li>语法：<br><code>线程类Thread</code><br>需要引 l 用命名空间 <code>usingSystem.Threading;</code><ol><li>申明一个新的线程<br>注意线程执行的代码需要封装到一个函数中<br><code>Thread t = new Thread(NewThreadLogic);</code></li><li>启动线程<br><code>t.Start();</code></li><li>设置为后台线程<br>当前台线程都结束了的时候，整个程序也就结束了，即使还有剧台线程正在运行<br>后台线程不会防止应用程序的进程被终止掉<br>如果不设置为后台线程可能导致进程无法正常关闭</li><li>关闭释放一个线程<br>如果开启的线程中不是死循环是能够结束的逻辑一那么不用刻意的去关闭它<br>如果是死循环想要中止这个线程有两种方式</li></ol></li></ul><ol start="5"><li>死循环中 boo1 标识</li></ol><ul><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Threading</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">static</span> <span class="token class-name"><span class="token keyword">bool</span></span> isRuning <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">static</span> <span class="token class-name"><span class="token keyword">object</span></span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">object</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>            <span class="token comment">// 1. 声明</span></pre></td></tr><tr><td data-num="17"></td><td><pre>            <span class="token comment">// 新线程将要执行的代码逻辑被封装到了一个函数语句块中</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            <span class="token class-name">Thread</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Thread</span><span class="token punctuation">(</span>NewThreadLogic<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token comment">// 2. 启动线程</span></pre></td></tr><tr><td data-num="20"></td><td><pre>            t<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token comment">// 3. 设置为后台线程</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            t<span class="token punctuation">.</span>IsBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token comment">// 4. 关闭释放一个线程</span></pre></td></tr><tr><td data-num="24"></td><td><pre>            <span class="token comment">// 如果开启的线程中不是死循环是能够结束的逻辑那么不用刻意的去关闭它</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token comment">// 如果是死循环想要中止这个线程有两种方式</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token comment">//bool 标识</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token comment">//Console.ReadKey();</span></pre></td></tr><tr><td data-num="28"></td><td><pre>            <span class="token comment">//isRuning = false;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token comment">//Console.ReadKey();</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token comment">// 通过线程提供的方法（注意在.Net core 版本中无法中止会报错）</span></pre></td></tr><tr><td data-num="32"></td><td><pre>            <span class="token comment">// 中止线程</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token comment">//t.Abort();</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token comment">// 5. 线程休眠</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            <span class="token comment">// 让线程休眠多少毫秒 1s=1000 毫秒</span></pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token comment">// 在哪个线程里执行就休眠哪个线程</span></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token comment">// Thread.Sleep (1000); 休眠主函数中</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre>            <span class="token comment">// 线程之间共享数据</span></pre></td></tr><tr><td data-num="41"></td><td><pre>            <span class="token comment">// 多个线程使用的内存是共享的，都属于该应用程序（进程）</span></pre></td></tr><tr><td data-num="42"></td><td><pre>            <span class="token comment">// 所以要注意当多线程同时操作同一片内存区域时可能会出问题</span></pre></td></tr><tr><td data-num="43"></td><td><pre>            <span class="token comment">// 可以通过加锁的形式避免问题（lock）</span></pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre>            <span class="token comment">// 用 lock 解决</span></pre></td></tr><tr><td data-num="46"></td><td><pre>            <span class="token comment">// 当我们在多个线程当中想要访问同样的东西进行逻辑处理时</span></pre></td></tr><tr><td data-num="47"></td><td><pre>            <span class="token comment">// 为了避免不必要的逻辑顺序执行的查错</span></pre></td></tr><tr><td data-num="48"></td><td><pre>            <span class="token comment">//lock (引用类型对象）</span></pre></td></tr><tr><td data-num="49"></td><td><pre>            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="50"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>                <span class="token keyword">lock</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="52"></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>                    Console<span class="token punctuation">.</span><span class="token function">SetCursorPosition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>                    Console<span class="token punctuation">.</span>ForegroundColor <span class="token operator">=</span> ConsoleColor<span class="token punctuation">.</span>Red<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>                    Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"鼋"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>                </pre></td></tr><tr><td data-num="58"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="59"></td><td><pre></pre></td></tr><tr><td data-num="60"></td><td><pre></pre></td></tr><tr><td data-num="61"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">NewThreadLogic</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="63"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>            </pre></td></tr><tr><td data-num="65"></td><td><pre>            <span class="token comment">// 新开线程 执行的代码逻辑在该函数语句块中</span></pre></td></tr><tr><td data-num="66"></td><td><pre>            <span class="token keyword">while</span> <span class="token punctuation">(</span>isRuning<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="67"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>                <span class="token comment">//Thread.Sleep(1000);</span></pre></td></tr><tr><td data-num="69"></td><td><pre>                <span class="token comment">//Console.WriteLine ("新开线程");</span></pre></td></tr><tr><td data-num="70"></td><td><pre>                <span class="token keyword">lock</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="71"></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>                    Console<span class="token punctuation">.</span><span class="token function">SetCursorPosition</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>                    Console<span class="token punctuation">.</span>ForegroundColor <span class="token operator">=</span> ConsoleColor<span class="token punctuation">.</span>Yellow<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>                    Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"晒"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>            </pre></td></tr><tr><td data-num="78"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="79"></td><td><pre></pre></td></tr><tr><td data-num="80"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="81"></td><td><pre></pre></td></tr><tr><td data-num="82"></td><td><pre></pre></td></tr><tr><td data-num="83"></td><td><pre></pre></td></tr><tr><td data-num="84"></td><td><pre></pre></td></tr><tr><td data-num="85"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="预处理器指令"><a class="anchor" href="#预处理器指令">#</a> 预处理器指令</h2><ul><li>什么是编译器<br>编译器是一种翻译程序<br>它用于将源语言程序翻译为目标语言程序<br>源语言程序：某种程序设计语言写成的，比如 C#、C、C++、Java 等语言写的程序<br>目标语言程序：二进制数表示的伪机器代码写的程序</li><li>什么是预处理指令<br>预处理器指令指导编译器在实际编译开始之前对信息进行预处理<br>预处理器指令都是以 #开始<br>预处理器指令不是语句，所以它们不以分号；结束<br>目前我们经常用到的折叠代码块 就是预处理器指令</li><li>常见的预处理指令<br>1：#define<br>定义一个符号，类似一个没有值的变量<br>#undef<br>取消 define 定义的符号，让其失效<br>两者都是写在脚本文件最前面<br>般配合 if 指令使用或配合特性<br>2：#if #elif #else #endif<br>和 if 语句规则一样，一般配合 #define 定义的符号使用<br>用于告诉编译器进行编译代码的流程控制<br>3：#warning #error<br>告诉编译器 是报警告还是报错误 一般还是配合 if 使用</li></ul><h2 id="反射和特性"><a class="anchor" href="#反射和特性">#</a> 反射和特性</h2><h3 id="反射"><a class="anchor" href="#反射">#</a> 反射</h3><ul><li>什么是程序集<br>程序集是经由编译器编译得到的，供进一步纯译执行的那个中间产物<br>在 WINDOWS 系统中，它一般表现为后缀为・d11（库文件）或者是・exe（可执行文件）的格式<br>说人话：<br>程序集就是我们写的一个代码集合，我们现在写的所有代码<br>最终都会被编译器翻译为一个程序集供别人使用<br>比如一个代码库文件（d11）或者一个可执行文件（exe）</li><li>元数据<br>元数据就是用来描述数据的数据<br>这个概念不仅仅用于程序上，在别的领域也有元数据<br>说人话：<br>程序中的类，类中的函数、变量等等信息就是程序的元数据<br>有关程序以及类型的数据被称为元数据，它们保存在程序集中</li><li>反射概念<br>程序正在运行时，可以查看其它程序集或者自身的元数据。<br>一个运行的程序查看本身或者其它程序的元数据的行为就叫做反射<br>说人话：<br>在程序运行时，通过反射可以得到其它程序集或者自己程序集代码的各种信息<br>类，函数，变量，对象等等，实例化它们，执行它们，操作它们</li><li>反射的作用<br>因为反射可以在程序编译后获得信息所以它提高了程序的拓展性和灵活性<ol><li>程序运行时得到所有元数据，包括元数据的特性</li><li>程序运行时，实例化对象，操作对象</li><li>程序运行时创建新对象，用这些对象执行任务</li></ol></li><li>示例：</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Threading</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Reflection</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Test</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> str <span class="token operator">=</span> <span class="token string">"123"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token keyword">this</span><span class="token punctuation">.</span>i <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token punctuation">,</span><span class="token class-name"><span class="token keyword">string</span></span> str<span class="token punctuation">)</span> <span class="token punctuation">:</span><span class="token keyword">this</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token keyword">this</span><span class="token punctuation">.</span>str <span class="token operator">=</span> str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token comment">// Type (类的信息类)</span></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token comment">// 它是反射功能的基础！</span></pre></td></tr><tr><td data-num="39"></td><td><pre>            <span class="token comment">// 它是访问元数据的主要方式。</span></pre></td></tr><tr><td data-num="40"></td><td><pre>            <span class="token comment">// 使用 Type 的成员获取有关类型声明的信息</span></pre></td></tr><tr><td data-num="41"></td><td><pre>            <span class="token comment">// 有关类型的成员（如构造函数、方法、字段、属性和类的事件）</span></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre>            <span class="token comment">// 获取 Type</span></pre></td></tr><tr><td data-num="44"></td><td><pre>            <span class="token comment">//1. 万物之父 object 中的 GetType (）可以获取对象的 Type</span></pre></td></tr><tr><td data-num="45"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span></span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>            <span class="token class-name">Type</span> type <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>            <span class="token comment">//2. 通过 typeof 关键字传入类名也可以得到对象的 Type</span></pre></td></tr><tr><td data-num="49"></td><td><pre>            <span class="token class-name">Type</span> type1 <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">int</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>type1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre>            <span class="token comment">//3. 通过类的名字也可以获取类型</span></pre></td></tr><tr><td data-num="53"></td><td><pre>            <span class="token comment">// 注意类名必须包含命名空间不然找不到</span></pre></td></tr><tr><td data-num="54"></td><td><pre>            <span class="token class-name">Type</span> type2 <span class="token operator">=</span> Type<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token string">"System.Int32"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>type2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre></pre></td></tr><tr><td data-num="57"></td><td><pre>            <span class="token comment">// 1. 获取类中的所有公共成员</span></pre></td></tr><tr><td data-num="58"></td><td><pre>            <span class="token comment">// 首先得到 Type</span></pre></td></tr><tr><td data-num="59"></td><td><pre>            <span class="token class-name">Type</span> t <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Test</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>            <span class="token comment">// 然后得到所有公共成员</span></pre></td></tr><tr><td data-num="61"></td><td><pre>            <span class="token comment">// 需要引用命名空间 using System.Reflection</span></pre></td></tr><tr><td data-num="62"></td><td><pre>            <span class="token class-name">MemberInfo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> m <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">GetMembers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">.</span>Length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="64"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>m<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>            <span class="token comment">// 2. 获取所有构造函数</span></pre></td></tr><tr><td data-num="68"></td><td><pre>            <span class="token class-name">ConstructorInfo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> c <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">GetConstructors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> c<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="70"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>            <span class="token comment">// 获取其中一个构造函数并执行</span></pre></td></tr><tr><td data-num="74"></td><td><pre>            <span class="token comment">// 得构造函数传入 Type 数组数组中内容按顺序是参数类型</span></pre></td></tr><tr><td data-num="75"></td><td><pre>            <span class="token comment">// 执行构造函数传入 object 数组表示按顺序传入的参数</span></pre></td></tr><tr><td data-num="76"></td><td><pre>            <span class="token comment">// 得到无参构造</span></pre></td></tr><tr><td data-num="77"></td><td><pre>            <span class="token class-name">ConstructorInfo</span> info <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">GetConstructor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Type</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>            <span class="token comment">// 执行无参构造 没有参数 传 null</span></pre></td></tr><tr><td data-num="79"></td><td><pre>            <span class="token class-name">Test</span> obj <span class="token operator">=</span>info<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token keyword">as</span> <span class="token class-name">Test</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre></pre></td></tr><tr><td data-num="82"></td><td><pre>            <span class="token comment">// 得到有参构造</span></pre></td></tr><tr><td data-num="83"></td><td><pre>            <span class="token class-name">ConstructorInfo</span> info2<span class="token operator">=</span>t<span class="token punctuation">.</span><span class="token function">GetConstructor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Type<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">int</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>            obj <span class="token operator">=</span> info2<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token number">2</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token class-name">Test</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre></pre></td></tr><tr><td data-num="87"></td><td><pre>            <span class="token class-name">ConstructorInfo</span> info3<span class="token operator">=</span>t<span class="token punctuation">.</span><span class="token function">GetConstructor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Type<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">int</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">string</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>            obj <span class="token operator">=</span> info3<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token number">4</span> <span class="token punctuation">,</span><span class="token string">"4444"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token class-name">Test</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre></pre></td></tr><tr><td data-num="91"></td><td><pre>            <span class="token comment">// 获取类的公共成员变量</span></pre></td></tr><tr><td data-num="92"></td><td><pre></pre></td></tr><tr><td data-num="93"></td><td><pre>            <span class="token comment">// 1. 得到所有成员变量</span></pre></td></tr><tr><td data-num="94"></td><td><pre>            <span class="token class-name">FieldInfo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> fields <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">GetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="95"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> fields<span class="token punctuation">.</span>Length <span class="token operator">></span> i<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="96"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>                Console<span class="token punctuation">.</span>WriteLine <span class="token punctuation">(</span>fields<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="98"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="99"></td><td><pre>            <span class="token comment">// 2. 得到指定名称的公共成员变量</span></pre></td></tr><tr><td data-num="100"></td><td><pre>            <span class="token class-name">FieldInfo</span> infoJ <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">GetField</span><span class="token punctuation">(</span><span class="token string">"j"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="101"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>infoJ<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="102"></td><td><pre></pre></td></tr><tr><td data-num="103"></td><td><pre>            <span class="token comment">// 3. 通过反射获取和设置对象的值</span></pre></td></tr><tr><td data-num="104"></td><td><pre>            <span class="token class-name">Test</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="105"></td><td><pre>            test<span class="token punctuation">.</span>j <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>            test<span class="token punctuation">.</span>str <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="107"></td><td><pre>            <span class="token comment">// 3-1 通过反射 获取对象的某个变量的值</span></pre></td></tr><tr><td data-num="108"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>infoJ<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>            <span class="token comment">// 3-2 通过反射 设置指定对象的某个变量的值</span></pre></td></tr><tr><td data-num="110"></td><td><pre>            infoJ<span class="token punctuation">.</span><span class="token function">SetValue</span><span class="token punctuation">(</span>test<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="111"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>infoJ<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="112"></td><td><pre></pre></td></tr><tr><td data-num="113"></td><td><pre></pre></td></tr><tr><td data-num="114"></td><td><pre>            <span class="token comment">// 通过 Type 类中的 GetMethod 方法得到类中的方法</span></pre></td></tr><tr><td data-num="115"></td><td><pre>            <span class="token comment">// MethodInfo 是方法的反射信息</span></pre></td></tr><tr><td data-num="116"></td><td><pre>            <span class="token comment">// 所有</span></pre></td></tr><tr><td data-num="117"></td><td><pre>            <span class="token class-name">Type</span> strType <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">string</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="118"></td><td><pre>            <span class="token class-name">MethodInfo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> methods <span class="token operator">=</span> strType<span class="token punctuation">.</span><span class="token function">GetMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="119"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> methods<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="120"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="121"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>methods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="123"></td><td><pre>            <span class="token comment">//1. 如果存在方法重载用 Type 数组表示参数类型</span></pre></td></tr><tr><td data-num="124"></td><td><pre></pre></td></tr><tr><td data-num="125"></td><td><pre>            <span class="token class-name">MethodInfo</span> subStr <span class="token operator">=</span> strType<span class="token punctuation">.</span><span class="token function">GetMethod</span><span class="token punctuation">(</span><span class="token string">"Substring"</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Type<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">int</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">int</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="126"></td><td><pre>            <span class="token comment">//2. 调用该方法</span></pre></td></tr><tr><td data-num="127"></td><td><pre>            <span class="token comment">// 注意：如果是静态方法 Invoke 中的第一个参数传 nul1 即可</span></pre></td></tr><tr><td data-num="128"></td><td><pre>            <span class="token class-name"><span class="token keyword">string</span></span> str <span class="token operator">=</span> <span class="token string">"hello，world!"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="129"></td><td><pre>            <span class="token class-name"><span class="token keyword">object</span></span> result<span class="token operator">=</span>subStr<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="130"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">;</span></pre></td></tr><tr><td data-num="131"></td><td><pre></pre></td></tr><tr><td data-num="132"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="133"></td><td><pre>        </pre></td></tr><tr><td data-num="134"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="135"></td><td><pre></pre></td></tr><tr><td data-num="136"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="反射关键类assembly和activator"><a class="anchor" href="#反射关键类assembly和activator">#</a> 反射关键类 Assembly 和 Activator</h3><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Threading</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Reflection</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp1</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Test</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> str <span class="token operator">=</span> <span class="token string">"123"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token keyword">this</span><span class="token punctuation">.</span>i <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token punctuation">,</span><span class="token class-name"><span class="token keyword">string</span></span> str<span class="token punctuation">)</span> <span class="token punctuation">:</span><span class="token keyword">this</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token keyword">this</span><span class="token punctuation">.</span>str <span class="token operator">=</span> str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token preprocessor property">#<span class="token directive keyword">region</span> Type</span></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token comment">// Type (类的信息类)</span></pre></td></tr><tr><td data-num="39"></td><td><pre>            <span class="token comment">// 它是反射功能的基础！</span></pre></td></tr><tr><td data-num="40"></td><td><pre>            <span class="token comment">// 它是访问元数据的主要方式。</span></pre></td></tr><tr><td data-num="41"></td><td><pre>            <span class="token comment">// 使用 Type 的成员获取有关类型声明的信息</span></pre></td></tr><tr><td data-num="42"></td><td><pre>            <span class="token comment">// 有关类型的成员（如构造函数、方法、字段、属性和类的事件）</span></pre></td></tr><tr><td data-num="43"></td><td><pre></pre></td></tr><tr><td data-num="44"></td><td><pre>            <span class="token comment">// 获取 Type</span></pre></td></tr><tr><td data-num="45"></td><td><pre>            <span class="token comment">//1. 万物之父 object 中的 GetType (）可以获取对象的 Type</span></pre></td></tr><tr><td data-num="46"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span></span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>            <span class="token class-name">Type</span> type <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>            <span class="token comment">//2. 通过 typeof 关键字传入类名也可以得到对象的 Type</span></pre></td></tr><tr><td data-num="50"></td><td><pre>            <span class="token class-name">Type</span> type1 <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">int</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>type1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre></pre></td></tr><tr><td data-num="53"></td><td><pre>            <span class="token comment">//3. 通过类的名字也可以获取类型</span></pre></td></tr><tr><td data-num="54"></td><td><pre>            <span class="token comment">// 注意类名必须包含命名空间不然找不到</span></pre></td></tr><tr><td data-num="55"></td><td><pre>            <span class="token class-name">Type</span> type2 <span class="token operator">=</span> Type<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token string">"System.Int32"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>type2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre></pre></td></tr><tr><td data-num="58"></td><td><pre>            <span class="token comment">// 1. 获取类中的所有公共成员</span></pre></td></tr><tr><td data-num="59"></td><td><pre>            <span class="token comment">// 首先得到 Type</span></pre></td></tr><tr><td data-num="60"></td><td><pre>            <span class="token class-name">Type</span> t <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Test</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>            <span class="token comment">// 然后得到所有公共成员</span></pre></td></tr><tr><td data-num="62"></td><td><pre>            <span class="token comment">// 需要引用命名空间 using System.Reflection</span></pre></td></tr><tr><td data-num="63"></td><td><pre>            <span class="token class-name">MemberInfo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> m <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">GetMembers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">.</span>Length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="65"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>m<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>            <span class="token comment">// 2. 获取所有构造函数</span></pre></td></tr><tr><td data-num="69"></td><td><pre>            <span class="token class-name">ConstructorInfo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> c <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">GetConstructors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> c<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="71"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>            <span class="token comment">// 获取其中一个构造函数并执行</span></pre></td></tr><tr><td data-num="75"></td><td><pre>            <span class="token comment">// 得构造函数传入 Type 数组数组中内容按顺序是参数类型</span></pre></td></tr><tr><td data-num="76"></td><td><pre>            <span class="token comment">// 执行构造函数传入 object 数组表示按顺序传入的参数</span></pre></td></tr><tr><td data-num="77"></td><td><pre>            <span class="token comment">// 得到无参构造</span></pre></td></tr><tr><td data-num="78"></td><td><pre>            <span class="token class-name">ConstructorInfo</span> info <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">GetConstructor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Type</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>            <span class="token comment">// 执行无参构造 没有参数 传 null</span></pre></td></tr><tr><td data-num="80"></td><td><pre>            <span class="token class-name">Test</span> obj <span class="token operator">=</span>info<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token keyword">as</span> <span class="token class-name">Test</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="82"></td><td><pre></pre></td></tr><tr><td data-num="83"></td><td><pre>            <span class="token comment">// 得到有参构造</span></pre></td></tr><tr><td data-num="84"></td><td><pre>            <span class="token class-name">ConstructorInfo</span> info2<span class="token operator">=</span>t<span class="token punctuation">.</span><span class="token function">GetConstructor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Type<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">int</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>            obj <span class="token operator">=</span> info2<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token number">2</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token class-name">Test</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre></pre></td></tr><tr><td data-num="88"></td><td><pre>            <span class="token class-name">ConstructorInfo</span> info3<span class="token operator">=</span>t<span class="token punctuation">.</span><span class="token function">GetConstructor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Type<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">int</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">string</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>            obj <span class="token operator">=</span> info3<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token number">4</span> <span class="token punctuation">,</span><span class="token string">"4444"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token class-name">Test</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre></pre></td></tr><tr><td data-num="92"></td><td><pre>            <span class="token comment">// 获取类的公共成员变量</span></pre></td></tr><tr><td data-num="93"></td><td><pre></pre></td></tr><tr><td data-num="94"></td><td><pre>            <span class="token comment">// 1. 得到所有成员变量</span></pre></td></tr><tr><td data-num="95"></td><td><pre>            <span class="token class-name">FieldInfo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> fields <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">GetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> fields<span class="token punctuation">.</span>Length <span class="token operator">></span> i<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="97"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="98"></td><td><pre>                Console<span class="token punctuation">.</span>WriteLine <span class="token punctuation">(</span>fields<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="99"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="100"></td><td><pre>            <span class="token comment">// 2. 得到指定名称的公共成员变量</span></pre></td></tr><tr><td data-num="101"></td><td><pre>            <span class="token class-name">FieldInfo</span> infoJ <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">GetField</span><span class="token punctuation">(</span><span class="token string">"j"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="102"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>infoJ<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="103"></td><td><pre></pre></td></tr><tr><td data-num="104"></td><td><pre>            <span class="token comment">// 3. 通过反射获取和设置对象的值</span></pre></td></tr><tr><td data-num="105"></td><td><pre>            <span class="token class-name">Test</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>            test<span class="token punctuation">.</span>j <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="107"></td><td><pre>            test<span class="token punctuation">.</span>str <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>            <span class="token comment">// 3-1 通过反射 获取对象的某个变量的值</span></pre></td></tr><tr><td data-num="109"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>infoJ<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>            <span class="token comment">// 3-2 通过反射 设置指定对象的某个变量的值</span></pre></td></tr><tr><td data-num="111"></td><td><pre>            infoJ<span class="token punctuation">.</span><span class="token function">SetValue</span><span class="token punctuation">(</span>test<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>infoJ<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="113"></td><td><pre></pre></td></tr><tr><td data-num="114"></td><td><pre></pre></td></tr><tr><td data-num="115"></td><td><pre>            <span class="token comment">// 通过 Type 类中的 GetMethod 方法得到类中的方法</span></pre></td></tr><tr><td data-num="116"></td><td><pre>            <span class="token comment">// MethodInfo 是方法的反射信息</span></pre></td></tr><tr><td data-num="117"></td><td><pre>            <span class="token comment">// 所有</span></pre></td></tr><tr><td data-num="118"></td><td><pre>            <span class="token class-name">Type</span> strType <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">string</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="119"></td><td><pre>            <span class="token class-name">MethodInfo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> methods <span class="token operator">=</span> strType<span class="token punctuation">.</span><span class="token function">GetMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="120"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> methods<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="121"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>methods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="123"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="124"></td><td><pre>            <span class="token comment">//1. 如果存在方法重载用 Type 数组表示参数类型</span></pre></td></tr><tr><td data-num="125"></td><td><pre></pre></td></tr><tr><td data-num="126"></td><td><pre>            <span class="token class-name">MethodInfo</span> subStr <span class="token operator">=</span> strType<span class="token punctuation">.</span><span class="token function">GetMethod</span><span class="token punctuation">(</span><span class="token string">"Substring"</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Type<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">int</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">int</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="127"></td><td><pre>            <span class="token comment">//2. 调用该方法</span></pre></td></tr><tr><td data-num="128"></td><td><pre>            <span class="token comment">// 注意：如果是静态方法 Invoke 中的第一个参数传 nul1 即可</span></pre></td></tr><tr><td data-num="129"></td><td><pre>            <span class="token class-name"><span class="token keyword">string</span></span> str <span class="token operator">=</span> <span class="token string">"hello，world!"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="130"></td><td><pre>            <span class="token class-name"><span class="token keyword">object</span></span> result<span class="token operator">=</span>subStr<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="131"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">;</span></pre></td></tr><tr><td data-num="132"></td><td><pre>            <span class="token preprocessor property">#<span class="token directive keyword">endregion</span></span></pre></td></tr><tr><td data-num="133"></td><td><pre></pre></td></tr><tr><td data-num="134"></td><td><pre>            <span class="token preprocessor property">#<span class="token directive keyword">region</span> Assembly</span></pre></td></tr><tr><td data-num="135"></td><td><pre>            <span class="token comment">// 程序集类</span></pre></td></tr><tr><td data-num="136"></td><td><pre>            <span class="token comment">// 主要用来加载其它程序集，加载后</span></pre></td></tr><tr><td data-num="137"></td><td><pre>            <span class="token comment">// 才能用 Type 来使用其它程序集中的信息</span></pre></td></tr><tr><td data-num="138"></td><td><pre>            <span class="token comment">// 如果想要使用不是自己程序集中的内容需要先加载程序集</span></pre></td></tr><tr><td data-num="139"></td><td><pre>            <span class="token comment">// 比如 d11 文件（库文件）</span></pre></td></tr><tr><td data-num="140"></td><td><pre>            <span class="token comment">// 简单的把库文件看成一种代码仓库，它提供给使用者一些可以直接拿来用的变量、函数或类</span></pre></td></tr><tr><td data-num="141"></td><td><pre></pre></td></tr><tr><td data-num="142"></td><td><pre>            <span class="token comment">// 三种加载程序集的函数</span></pre></td></tr><tr><td data-num="143"></td><td><pre>            <span class="token comment">// 般用来加载在同一文件下的其它程序集</span></pre></td></tr><tr><td data-num="144"></td><td><pre>            <span class="token comment">//Assembly asembly2 = Assembly.Load ("程序集名称");</span></pre></td></tr><tr><td data-num="145"></td><td><pre></pre></td></tr><tr><td data-num="146"></td><td><pre>            <span class="token comment">// 般用来加载不在同一文件下的其它程序集</span></pre></td></tr><tr><td data-num="147"></td><td><pre>            <span class="token comment">//Assembly asmbly = Assembly.LoadFrom ("包含程序集清单的文件的名称或路径")；</span></pre></td></tr><tr><td data-num="148"></td><td><pre>            <span class="token comment">//Assembly asembly3 = Assembly.LoadFile（"要加载的文件的完全限定路径")；</span></pre></td></tr><tr><td data-num="149"></td><td><pre></pre></td></tr><tr><td data-num="150"></td><td><pre>            <span class="token comment">//1. 先加载一个指定程序集</span></pre></td></tr><tr><td data-num="151"></td><td><pre></pre></td></tr><tr><td data-num="152"></td><td><pre>            <span class="token comment">//2. 再加载程序集中的一个类对象 之后才能使用反射</span></pre></td></tr><tr><td data-num="153"></td><td><pre></pre></td></tr><tr><td data-num="154"></td><td><pre>            <span class="token preprocessor property">#<span class="token directive keyword">endregion</span></span></pre></td></tr><tr><td data-num="155"></td><td><pre></pre></td></tr><tr><td data-num="156"></td><td><pre>            <span class="token preprocessor property">#<span class="token directive keyword">region</span> Activator</span></pre></td></tr><tr><td data-num="157"></td><td><pre>            <span class="token comment">// 用于快速实例化对象的类</span></pre></td></tr><tr><td data-num="158"></td><td><pre>            <span class="token comment">// 用于将 Type 对象快捷实例化为对象</span></pre></td></tr><tr><td data-num="159"></td><td><pre>            <span class="token comment">// 先得到 Type</span></pre></td></tr><tr><td data-num="160"></td><td><pre>            <span class="token comment">// 然后快速实例化一个对象</span></pre></td></tr><tr><td data-num="161"></td><td><pre></pre></td></tr><tr><td data-num="162"></td><td><pre>            <span class="token class-name">Type</span> testType<span class="token operator">=</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Test</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="163"></td><td><pre></pre></td></tr><tr><td data-num="164"></td><td><pre>            <span class="token comment">// 1. 无参构造</span></pre></td></tr><tr><td data-num="165"></td><td><pre>           <span class="token class-name">Test</span> testObj <span class="token operator">=</span> Activator<span class="token punctuation">.</span><span class="token function">CreateInstance</span><span class="token punctuation">(</span>testType<span class="token punctuation">)</span><span class="token keyword">as</span> <span class="token class-name">Test</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="166"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>testObj<span class="token punctuation">.</span>str<span class="token punctuation">)</span> <span class="token punctuation">;</span></pre></td></tr><tr><td data-num="167"></td><td><pre>            <span class="token comment">// 2. 有参构造</span></pre></td></tr><tr><td data-num="168"></td><td><pre>            testObj <span class="token operator">=</span> Activator<span class="token punctuation">.</span><span class="token function">CreateInstance</span><span class="token punctuation">(</span>testType<span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token class-name">Test</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="169"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>testObj<span class="token punctuation">.</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="170"></td><td><pre>            testObj <span class="token operator">=</span> Activator<span class="token punctuation">.</span><span class="token function">CreateInstance</span><span class="token punctuation">(</span>testType<span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span><span class="token string">"4564566"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token class-name">Test</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="171"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>testObj<span class="token punctuation">.</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="172"></td><td><pre></pre></td></tr><tr><td data-num="173"></td><td><pre>            <span class="token preprocessor property">#<span class="token directive keyword">endregion</span></span></pre></td></tr><tr><td data-num="174"></td><td><pre></pre></td></tr><tr><td data-num="175"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="176"></td><td><pre></pre></td></tr><tr><td data-num="177"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="178"></td><td><pre></pre></td></tr><tr><td data-num="179"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="特性"><a class="anchor" href="#特性">#</a> 特性</h3><ul><li>特性是什么<br>特性是一种允许我们向程序的程序集添加元数据的语言结构<br>它是用于保存程序结构信息的某种特殊类型的类<br>特性提供功能强大的方法以将声明信息与 C# 代码（类型、方法、属性等）相关联。<br>特性与程序实体关联后，即可在运行时使用反射查询特性信息<br>特性的目的是告诉编译器把程序结构的某组元数据嵌入程序集中<br>它可以放置在几乎所有的声明中（类、变量、函数等等申明）<br>说人话：<br>特性本质是个类<br>我们可以利用特性类为元数据添加额外信息<br>比如一个类、成员变量、成员方法等等为他们添加更多的额外信息<br>之后可以通过反射来获取这些额外信息</li><li>自定义特性<br>继承特性基类 Attribute</li><li>特性语法<br><code>[特性名(参数列表)]</code><br>本质上就是在调用特性类的构造函数<br>一般写在类 函数 变量上一行 表示他们具有该特性信息</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token preprocessor property">#<span class="token directive keyword">define</span> Fun</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Diagnostics</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Linq</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Text</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Threading<span class="token punctuation">.</span>Tasks</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">namespace</span> <span class="token namespace">ConsoleApp2</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>    </pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AttributeUsage</span><span class="token attribute-arguments"><span class="token punctuation">(</span>AttributeTargets<span class="token punctuation">.</span>Class <span class="token operator">|</span> AttributeTargets<span class="token punctuation">.</span>Field<span class="token punctuation">,</span>AllowMultiple <span class="token operator">=</span><span class="token boolean">true</span> <span class="token punctuation">,</span>Inherited <span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token comment">// 继承特性基类 Attribute</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">MyCustomAttribute</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Attribute</span></span> </pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token comment">// 特性中的成员 一般根据需求来写</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">string</span></span> info<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">MyCustomAttribute</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span>  info<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token keyword">this</span><span class="token punctuation">.</span>info <span class="token operator">=</span> info<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">TestFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"特性的方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">MyCustom</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"自己写的类"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">MyCustom</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"自己写的类"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">MyClass</span> </pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">MyCustom</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"这是一个成员变量"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> <span class="token keyword">value</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre>        <span class="token comment">//[MyCustom ("这是一个用于计算加法的函数")]</span></pre></td></tr><tr><td data-num="39"></td><td><pre>        <span class="token comment">//public void TeseFun ([MyCustom ("函数参数")] int a) </span></pre></td></tr><tr><td data-num="40"></td><td><pre>        <span class="token comment">//&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre>        <span class="token comment">//&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">TeseFun</span><span class="token punctuation">(</span> <span class="token class-name"><span class="token keyword">int</span></span> a<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="44"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="48"></td><td><pre></pre></td></tr><tr><td data-num="49"></td><td><pre>    <span class="token comment">// 限制自定义特性的使用范围</span></pre></td></tr><tr><td data-num="50"></td><td><pre>    <span class="token comment">// 通过为特性类加特性限制其使用范围</span></pre></td></tr><tr><td data-num="51"></td><td><pre>    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AttributeUsage</span><span class="token attribute-arguments"><span class="token punctuation">(</span>AttributeTargets<span class="token punctuation">.</span>Class <span class="token operator">|</span> AttributeTargets<span class="token punctuation">.</span>Struct<span class="token punctuation">,</span> AllowMultiple <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> Inherited <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="52"></td><td><pre>    <span class="token comment">// 参数一：AttributeTargets 一特性能够用在哪些地方</span></pre></td></tr><tr><td data-num="53"></td><td><pre>    <span class="token comment">// 参数二：Al1owMultiple 一是否允许多个特性实例用在同一个目标上</span></pre></td></tr><tr><td data-num="54"></td><td><pre>    <span class="token comment">// 参数三：Inherited 一特性是否能被派生类和重写成员继承</span></pre></td></tr><tr><td data-num="55"></td><td><pre></pre></td></tr><tr><td data-num="56"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyCustom2Attribute</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Attribute</span></span> </pre></td></tr><tr><td data-num="57"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="58"></td><td><pre></pre></td></tr><tr><td data-num="59"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>    <span class="token comment">// 1. 系统自带特性 —— 过时特性</span></pre></td></tr><tr><td data-num="61"></td><td><pre>    <span class="token comment">// 过时特性</span></pre></td></tr><tr><td data-num="62"></td><td><pre>    <span class="token comment">//Obsolete</span></pre></td></tr><tr><td data-num="63"></td><td><pre>    <span class="token comment">// 用于提示用户使用的方法等成员已经过时建议使用新方法</span></pre></td></tr><tr><td data-num="64"></td><td><pre>    <span class="token comment">// 一般加在函数前的特性</span></pre></td></tr><tr><td data-num="65"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">TestClass</span></pre></td></tr><tr><td data-num="66"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>        <span class="token comment">// 参数一：调用过时方法时 提示的内容</span></pre></td></tr><tr><td data-num="68"></td><td><pre>        <span class="token comment">// 参数二：true - 使用该方法时会报错 false - 使用方法是直接警告</span></pre></td></tr><tr><td data-num="69"></td><td><pre>        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Obsolete</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"OldSpeak方法已经过时了，请使用Speak方法"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="70"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OldSpeak</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="71"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="72"></td><td><pre></pre></td></tr><tr><td data-num="73"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="75"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="76"></td><td><pre></pre></td></tr><tr><td data-num="77"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>    <span class="token comment">// 2. 系统自带特性一调用者信息特性</span></pre></td></tr><tr><td data-num="80"></td><td><pre>    <span class="token comment">// 哪个文件调用？</span></pre></td></tr><tr><td data-num="81"></td><td><pre>    <span class="token comment">//CallerFilePath 特性</span></pre></td></tr><tr><td data-num="82"></td><td><pre>    <span class="token comment">// 哪一行调用？</span></pre></td></tr><tr><td data-num="83"></td><td><pre>    <span class="token comment">//CallerLineNumber 特性</span></pre></td></tr><tr><td data-num="84"></td><td><pre>    <span class="token comment">// 哪个函数调用？</span></pre></td></tr><tr><td data-num="85"></td><td><pre>    <span class="token comment">//CallerMemberName 特性</span></pre></td></tr><tr><td data-num="86"></td><td><pre>    <span class="token comment">// 需要引用命名空间</span></pre></td></tr><tr><td data-num="87"></td><td><pre>    <span class="token comment">//using System.Runtime.CompilerServices;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>    <span class="token comment">// 一般作为函数参数的特性</span></pre></td></tr><tr><td data-num="89"></td><td><pre></pre></td></tr><tr><td data-num="90"></td><td><pre>    <span class="token comment">// 4. 系统自带特性一外部 D11 包函数特性</span></pre></td></tr><tr><td data-num="91"></td><td><pre>    <span class="token comment">// 用来标记非.Net（C#）的函数，表明该函数在一个外部的 DLL 中定义。</span></pre></td></tr><tr><td data-num="92"></td><td><pre>    <span class="token comment">// 一般用来调用 C 或者 C++ 的 D11 包写好的方法</span></pre></td></tr><tr><td data-num="93"></td><td><pre>    <span class="token comment">// 需要引 l 用命名空间 using System.Runtime.InteropServices</span></pre></td></tr><tr><td data-num="94"></td><td><pre></pre></td></tr><tr><td data-num="95"></td><td><pre></pre></td></tr><tr><td data-num="96"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="97"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="98"></td><td><pre>        <span class="token comment">//3. 系统自带特性一条件编译特性</span></pre></td></tr><tr><td data-num="99"></td><td><pre>        <span class="token comment">// 条件编译特性</span></pre></td></tr><tr><td data-num="100"></td><td><pre>        <span class="token comment">//Conditional</span></pre></td></tr><tr><td data-num="101"></td><td><pre>        <span class="token comment">// 它会和预处理指令 #define 配合使用</span></pre></td></tr><tr><td data-num="102"></td><td><pre>        <span class="token comment">// 需要引 l 用命名空间 using System.Diagnostics;</span></pre></td></tr><tr><td data-num="103"></td><td><pre>        <span class="token comment">// 主要可以用在一些调试代码上</span></pre></td></tr><tr><td data-num="104"></td><td><pre>        <span class="token comment">// 有时想执行有时不想执行的代码</span></pre></td></tr><tr><td data-num="105"></td><td><pre>        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Conditional</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Fun"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="106"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="107"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Fun执行"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="110"></td><td><pre></pre></td></tr><tr><td data-num="111"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="112"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>            <span class="token comment">// 特性的使用</span></pre></td></tr><tr><td data-num="114"></td><td><pre>            <span class="token class-name">MyClass</span> myClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="115"></td><td><pre>            <span class="token class-name">Type</span> type <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">MyClass</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="116"></td><td><pre>            <span class="token comment">// 判断是否使用了某个特性</span></pre></td></tr><tr><td data-num="117"></td><td><pre>            <span class="token comment">// 参数一：特性的类型</span></pre></td></tr><tr><td data-num="118"></td><td><pre>            <span class="token comment">// 参数二：代表是否搜索继承链（属性和事件忽略此参数）</span></pre></td></tr><tr><td data-num="119"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">IsDefined</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">MyCustomAttribute</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="120"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="121"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"该类型应用了MyCustom特性"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="123"></td><td><pre>            <span class="token comment">// 获取 Type 中的元数据的所有特性</span></pre></td></tr><tr><td data-num="124"></td><td><pre>            <span class="token class-name"><span class="token keyword">object</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> arr <span class="token operator">=</span> type<span class="token punctuation">.</span><span class="token function">GetCustomAttributes</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="125"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="126"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="127"></td><td><pre>                <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">is</span> <span class="token class-name">MyCustomAttribute</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="128"></td><td><pre>                <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="129"></td><td><pre>                    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token class-name">MyCustomAttribute</span><span class="token punctuation">)</span><span class="token punctuation">.</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="130"></td><td><pre>                    <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token class-name">MyCustomAttribute</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">TestFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="131"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="132"></td><td><pre>                </pre></td></tr><tr><td data-num="133"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="134"></td><td><pre>            <span class="token comment">// 1.Obsolete</span></pre></td></tr><tr><td data-num="135"></td><td><pre>            <span class="token class-name">TestClass</span> testClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">TestClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="136"></td><td><pre>            testClass<span class="token punctuation">.</span><span class="token function">OldSpeak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="137"></td><td><pre></pre></td></tr><tr><td data-num="138"></td><td><pre>            <span class="token comment">// 3.Fun</span></pre></td></tr><tr><td data-num="139"></td><td><pre>            <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="140"></td><td><pre>            </pre></td></tr><tr><td data-num="141"></td><td><pre>            </pre></td></tr><tr><td data-num="142"></td><td><pre></pre></td></tr><tr><td data-num="143"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="144"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="145"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="迭代器"><a class="anchor" href="#迭代器">#</a> 迭代器</h2><ul><li>迭代器：<br>迭代器（iterator）有时又称光标 (cursor）<br>是程序设计的软件设计模式<br>选代器模式提供一个方去顺序访问一个聚合对象中的各个无素<br>而又不暴露其内部的标识<br>在表现效果上看<br>是可以在容器对象（例如链表或数组）上遍历访问的接口<br>设计人员无需关心容器对象的内存分配的实现细节<br>可以用 foreach 遍历的类，都是实现了选代器的</li><li>标准迭代器的实现方法<br>关键接口：IEnumerator,IEnumerable<br>命名空间：using System.Collections;<br>可以通过同时继承 IEnumerable 和 IEnumerator 实现其中的方法</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Linq</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Text</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Threading<span class="token punctuation">.</span>Tasks</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">namespace</span> 迭代器</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">CustomList</span> <span class="token punctuation">:</span><span class="token type-list"><span class="token class-name">IEnumerable</span><span class="token punctuation">,</span><span class="token class-name">IEnumerator</span></span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> List<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token comment">// 从 - 1 开始的光标 用于表示 数据得到了哪个位置</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">int</span></span> position <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">CustomList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>            List <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerator</span> <span class="token function">GetEnumerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token function">Reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> Current </pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token keyword">get</span> </pre></td></tr><tr><td data-num="28"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>                <span class="token keyword">return</span> List<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">MoveNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="34"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token comment">// 移动光标</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            <span class="token operator">++</span>position<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token comment">// 是否溢出 溢出就不合法</span></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token keyword">return</span> position <span class="token operator">&lt;</span> List<span class="token punctuation">.</span>Length<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre></pre></td></tr><tr><td data-num="41"></td><td><pre>        <span class="token comment">//reset 是重置光标位置一般写在获取 IEnumerator 对象这个函数中</span></pre></td></tr><tr><td data-num="42"></td><td><pre>        <span class="token comment">// 用于第一次重置光标位置</span></pre></td></tr><tr><td data-num="43"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="44"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>            <span class="token comment">// 光标复原</span></pre></td></tr><tr><td data-num="46"></td><td><pre>            position <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="50"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="52"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>            <span class="token class-name">CustomList</span> c<span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">CustomList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>            <span class="token comment">//foreach 本质</span></pre></td></tr><tr><td data-num="55"></td><td><pre>            <span class="token comment">//1. 先获取 in 后面这个对象的 IEnumerator</span></pre></td></tr><tr><td data-num="56"></td><td><pre>            <span class="token comment">// 会调用对象其中的 GetEnumerator 方法来获取</span></pre></td></tr><tr><td data-num="57"></td><td><pre>            <span class="token comment">//2. 执行得到这个 IEnumerator 对象中的 MoveNext 方法</span></pre></td></tr><tr><td data-num="58"></td><td><pre>            <span class="token comment">//3. 只要 MoveNext 方法的返回值时 true 就会去得到 current</span></pre></td></tr><tr><td data-num="59"></td><td><pre>            <span class="token comment">// 然后复制给 item</span></pre></td></tr><tr><td data-num="60"></td><td><pre>            <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> item <span class="token keyword">in</span> c<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="61"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre></pre></td></tr><tr><td data-num="65"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="67"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>yield return 是 c# 提供给我们的语法糖<br>所谓语法糖，也称糖衣语法<br>主要作用就是将复杂逻辑简单化，<br>可以增加程序的可读性<br>从而减少程序代码出错的机会<br>关键接口：IEnumerable<br>命名空间:using System.Collections;<br>让想要通过 foreach 遍历的自定义类实现接口中的方法 GetEnumerator 即可</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">namespace</span> 迭代器</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">CustomList</span> <span class="token punctuation">:</span><span class="token type-list"><span class="token class-name">IEnumerable</span></span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> List<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token comment">// 从 - 1 开始的光标 用于表示 数据得到了哪个位置</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">int</span></span> position <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">public</span> <span class="token function">CustomList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>            List <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerator</span> <span class="token function">GetEnumerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> List<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="20"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>                <span class="token comment">//yield 关键字 配合迭代器使用</span></pre></td></tr><tr><td data-num="22"></td><td><pre>                <span class="token comment">// 可以理解为 暂时返回 保留当前状态 一会还会回来</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>                <span class="token keyword">yield</span> <span class="token keyword">return</span> List<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>     </pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>            <span class="token class-name">CustomList</span> c<span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">CustomList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> item <span class="token keyword">in</span> c<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="特殊语法"><a class="anchor" href="#特殊语法">#</a> 特殊语法</h2><ul><li>var 隐式类型<br>var 是一种特殊的变量类型<br>它可以用来表示任意类型的变量<br>注意：</li></ul><ol><li>var 不能作为类的成员只能用于临时变量申明时<br>也就是一般写在函数语句块中</li><li>var 必须初始化</li></ol><ul><li>设置对象初始值<br>声明对象时 可以通过直接写大括号的形式初始化公共成厂变量和属性</li><li>示例</li></ul><figure class="highlight cs"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">namespace</span> 特殊语法</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">class</span> <span class="token class-name">Person</span> </pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">int</span></span> money<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">bool</span></span> sex<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name </pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>            <span class="token keyword">get</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            <span class="token keyword">set</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Age</pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>            <span class="token keyword">get</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            <span class="token keyword">set</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token comment">//var 隐式类型</span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token class-name"><span class="token keyword">var</span></span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token class-name"><span class="token keyword">var</span></span> j <span class="token operator">=</span> <span class="token string">"123"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>            <span class="token class-name"><span class="token keyword">var</span></span> arr<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token class-name"><span class="token keyword">var</span></span> List <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token comment">// 申明对象时 可以通过直接写大括号的形式初始化公共成员变量和属性</span></pre></td></tr><tr><td data-num="32"></td><td><pre>            <span class="token class-name">Person</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Person</span> <span class="token punctuation">&#123;</span>sex<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span>Age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">,</span>Name<span class="token operator">=</span><span class="token string">"张三"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>            <span class="token comment">// 申明集合对象时 也可以通过大括号直要初始化内部属性</span></pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> arr2<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token comment">// 匿名类型</span></pre></td></tr><tr><td data-num="39"></td><td><pre>            <span class="token class-name"><span class="token keyword">var</span></span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token punctuation">&#123;</span> age <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> money <span class="token operator">=</span> <span class="token number">123</span> <span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"小明"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre></pre></td></tr><tr><td data-num="44"></td><td><pre>            <span class="token comment">// 可控类型</span></pre></td></tr><tr><td data-num="45"></td><td><pre>            <span class="token comment">// 1. 值类型是不能赋值为空的</span></pre></td></tr><tr><td data-num="46"></td><td><pre>            <span class="token comment">//int a = null;</span></pre></td></tr><tr><td data-num="47"></td><td><pre></pre></td></tr><tr><td data-num="48"></td><td><pre>            <span class="token comment">// 2. 声明时在值类型后面加？ 可以赋值为空</span></pre></td></tr><tr><td data-num="49"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre></pre></td></tr><tr><td data-num="51"></td><td><pre>            <span class="token comment">// 3. 判断是否为空</span></pre></td></tr><tr><td data-num="52"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>HasValue<span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="53"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="56"></td><td><pre></pre></td></tr><tr><td data-num="57"></td><td><pre>            <span class="token comment">// 4. 安全获取可空类型值</span></pre></td></tr><tr><td data-num="58"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> <span class="token keyword">value</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>            <span class="token comment">// 4.1 如果为空 默认返回值类型的默认值</span></pre></td></tr><tr><td data-num="60"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">.</span><span class="token function">GetValueOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>            <span class="token comment">// 4.2 也可以指定一个默认值</span></pre></td></tr><tr><td data-num="62"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">.</span><span class="token function">GetValueOrDefault</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre></pre></td></tr><tr><td data-num="64"></td><td><pre>            <span class="token class-name"><span class="token keyword">object</span></span> o<span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span>o<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span> </pre></td></tr><tr><td data-num="66"></td><td><pre>            <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>            <span class="token comment">// 相当于是一种语法糖能够帮助我们自动去判断是否为空 如果是 null 就不会执行 ToString 也不会报错</span></pre></td></tr><tr><td data-num="70"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>o<span class="token punctuation">?.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre></pre></td></tr><tr><td data-num="72"></td><td><pre>            <span class="token comment">// 空合操作符？？</span></pre></td></tr><tr><td data-num="73"></td><td><pre>            <span class="token comment">// 左边值？？右边值</span></pre></td></tr><tr><td data-num="74"></td><td><pre>            <span class="token comment">// 如果左边值为 null 就返回右边值 否则返回左边值</span></pre></td></tr><tr><td data-num="75"></td><td><pre>            <span class="token comment">// 只要是可以为 nul1 的类型都能用</span></pre></td></tr><tr><td data-num="76"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> intV <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>            <span class="token comment">//int intI=intV==null ? 100 : intV.Value; </span></pre></td></tr><tr><td data-num="78"></td><td><pre>            <span class="token class-name"><span class="token keyword">int</span></span> intI <span class="token operator">=</span> intV <span class="token operator">??</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// 相当于上面的</span></pre></td></tr><tr><td data-num="79"></td><td><pre></pre></td></tr><tr><td data-num="80"></td><td><pre>            <span class="token comment">// 关键符号 $</span></pre></td></tr><tr><td data-num="81"></td><td><pre>            <span class="token comment">// 用 $ 来构造字符串 让字符串中可以拼接变量 </span></pre></td></tr><tr><td data-num="82"></td><td><pre>            <span class="token class-name"><span class="token keyword">string</span></span> name <span class="token operator">=</span> <span class="token string">"张三"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"好好学习,</span><span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token expression language-csharp">name</span><span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre></pre></td></tr><tr><td data-num="85"></td><td><pre>            <span class="token comment">// 单句逻辑简略写法</span></pre></td></tr><tr><td data-num="86"></td><td><pre>            <span class="token comment">// 当循环或者 if 语句中只有 一句代码时 大括号可以省略</span></pre></td></tr><tr><td data-num="87"></td><td><pre>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="88"></td><td><pre>                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"123132"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="89"></td><td><pre></pre></td></tr><tr><td data-num="90"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="92"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="值类型和引用类型2"><a class="anchor" href="#值类型和引用类型2">#</a> 值类型和引用类型 2</h2><ul><li>知识回顾<br>值类型：<br>无符号:byte,ushort,uint,ulong<br>有符号:sbyte,short,int,long<br>浮点数:float,double,decimal<br>特殊:char,bool<br>枚举:enum<br>结构体：struct<br>引用类型： string 数组 class interface 委托<br>值类型和引用类型的本质区别<br>值的具体内容存在栈内存上<br>引用的具体内容存在堆内存上</li><li>如何判断 值类型和引用类型<br>F12 进到类型的内部去查看<br>是 class 就是引用<br>是 struct 就是值</li><li>语句块<br>命名空间 ——&gt; 类、接口、结构体 ——&gt; 函数、属性、索引器、运算符重载等（类、接口、结构体）——&gt; 条件分支、循环<br>上层语句块：类、结构体<br>中层语句块：函数<br>底层的语句块：条件分支循环等</li><li><ul><li>我们的逻辑代码写在哪里？<br>函数、条件分支、循环 - 中底层语句块中</li></ul></li><li><ul><li>我们的变量可以申明在哪里？<br>上、中、底都能申明变量<br>上层语句块中：成员变量<br>中、底层语句块中：临时变量</li></ul></li><li>变量的生命周期<br>编程时大部分都是临时变量<br>在中底层申明的临时变量（函数、条件分支、循环语句块等）<br>语句块执行结束<br>没有被记录的对象将被回收或变成垃圾<br>值类型：被系统自动回收<br>引用类型：栈上用于存地址的房间被系统自动回收，堆中具体内容变成垃圾，待下次 GC 回收</li><li><ul><li>想要不被回收或者不变垃圾<br>必须将其记录下来<br>如何记录？<br>在更高层级记录或者<br>使用静态全局变量记录</li></ul></li><li>结构体中的值和引用<br>结构体本身是值类型<br>前提：该结构体没有做为其它类的成员<br>在结构体中的值，栈中存储值具体的内容<br>在结构体中的引用，堆中存储引用具体的内容<br>引引用类型始终存储在堆中<br>真正通过结构体使用其中引用类型时只是顺藤摸瓜</li><li>类中的值和引用<br>类本身是引用类型<br>在类中的值，堆中存储具体的值<br>在类中的引用，堆中存储具体的值<br>值类型跟着大哥走，引用类型一根筋</li><li>数组中的存储规则<br>数组本身是引用类型<br>值类型数组，堆中房间存具体内容<br>引用类型数组，推中房间存地址</li><li>结构体继承接口<br>利用里氏替换原则，用接口容器装载结构体存在装箱拆箱</li></ul></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">Edited on</span> <time title="Modified: 2025-08-13 22:39:54" itemprop="dateModified" datetime="2025-08-13T22:39:54+08:00">2025-08-13</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Years Pass WeChat Pay"><p>WeChat Pay</p></div><div><img data-src="/images/alipay.png" alt="Years Pass Alipay"><p>Alipay</p></div><div><img data-src="/images/paypal.png" alt="Years Pass PayPal"><p>PayPal</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>Years Pass <i class="ic i-at"><em>@</em></i>字节纪元</li><li class="link"><strong>Post link: </strong><a href="https://time-520.github.io/2025/07/26/csharp/" title="C Sharp">https://time-520.github.io/2025/07/26/csharp/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2025/07/15/MySQL%E8%BF%9B%E9%98%B6/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;www.dmoe.cc&#x2F;random.php?787049" title="MySQL进阶"><span class="type">Previous Post</span> <span class="category"><i class="ic i-flag"></i></span><h3>MySQL进阶</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%A5%E9%97%A8"><span class="toc-number">1.</span> <span class="toc-text">入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">1.1.</span> <span class="toc-text">注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%8F%B0"><span class="toc-number">1.2.</span> <span class="toc-text">控制台</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-number">1.3.</span> <span class="toc-text">随机数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.4.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%98%E5%8F%A0%E4%BB%A3%E7%A0%81"><span class="toc-number">1.4.1.</span> <span class="toc-text">折叠代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.4.2.</span> <span class="toc-text">变量类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-number">1.4.3.</span> <span class="toc-text">变量的本质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%90%8D%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-number">1.4.4.</span> <span class="toc-text">变量名命名规则</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F"><span class="toc-number">1.5.</span> <span class="toc-text">常量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="toc-number">1.6.</span> <span class="toc-text">转义字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.7.</span> <span class="toc-text">类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.7.1.</span> <span class="toc-text">隐式转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%90%8C%E5%A4%A7%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.7.1.1.</span> <span class="toc-text">相同大类型转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E5%A4%A7%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.7.1.2.</span> <span class="toc-text">不同大类型转换</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.7.2.</span> <span class="toc-text">显示转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%AC%E5%8F%B7%E5%BC%BA%E8%BD%AC"><span class="toc-number">1.7.2.1.</span> <span class="toc-text">括号强转</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#parse%E6%B3%95"><span class="toc-number">1.7.2.2.</span> <span class="toc-text">Parse 法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#convert%E6%B3%95"><span class="toc-number">1.7.2.3.</span> <span class="toc-text">Convert 法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E5%AE%83%E7%B1%BB%E5%9E%8B%E8%BD%ACstring"><span class="toc-number">1.7.2.4.</span> <span class="toc-text">其它类型转 string</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E6%8D%95%E6%8D%89"><span class="toc-number">1.8.</span> <span class="toc-text">异常捕捉</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5"><span class="toc-number">1.9.</span> <span class="toc-text">字符串拼接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.10.</span> <span class="toc-text">条件运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.11.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.12.</span> <span class="toc-text">位运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.13.</span> <span class="toc-text">三目运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.14.</span> <span class="toc-text">条件分支语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#if%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.14.1.</span> <span class="toc-text">if 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#switch"><span class="toc-number">1.14.2.</span> <span class="toc-text">switch</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.15.</span> <span class="toc-text">循环语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#while"><span class="toc-number">1.15.1.</span> <span class="toc-text">while</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#do-while"><span class="toc-number">1.15.2.</span> <span class="toc-text">do while</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for"><span class="toc-number">1.15.3.</span> <span class="toc-text">for</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">2.</span> <span class="toc-text">基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-number">2.1.</span> <span class="toc-text">枚举</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">2.1.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E4%BD%8D%E7%BD%AE"><span class="toc-number">2.1.2.</span> <span class="toc-text">声明位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E6%9E%9A%E4%B8%BE%E5%8F%98%E9%87%8F"><span class="toc-number">2.1.3.</span> <span class="toc-text">声明枚举变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.1.4.</span> <span class="toc-text">枚举类型转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">2.2.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-number">2.2.1.</span> <span class="toc-text">二维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E5%8F%89%E6%95%B0%E7%BB%84"><span class="toc-number">2.2.2.</span> <span class="toc-text">交叉数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%80%BC%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.3.</span> <span class="toc-text">值类型和引用类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.</span> <span class="toc-text">函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ref%E5%92%8Cout"><span class="toc-number">2.5.</span> <span class="toc-text">ref 和 out</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E6%88%90%E5%8F%82%E6%95%B0%E5%92%8C%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="toc-number">2.6.</span> <span class="toc-text">变成参数和默认参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD"><span class="toc-number">2.7.</span> <span class="toc-text">函数重载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="toc-number">2.8.</span> <span class="toc-text">递归函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">2.9.</span> <span class="toc-text">结构体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-number">2.10.</span> <span class="toc-text">冒泡排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F"><span class="toc-number">2.11.</span> <span class="toc-text">选择排序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83"><span class="toc-number">3.</span> <span class="toc-text">核心</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.</span> <span class="toc-text">面向对象概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E5%B0%81%E8%A3%85"><span class="toc-number">3.2.</span> <span class="toc-text">面向对象 - 封装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.2.1.</span> <span class="toc-text">类和对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E5%92%8C%E8%AE%BF%E9%97%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">3.2.2.</span> <span class="toc-text">成员变量和访问修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.3.</span> <span class="toc-text">成员方法（函数）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6"><span class="toc-number">3.2.4.</span> <span class="toc-text">构造函数和析构函数 垃圾回收</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.4.1.</span> <span class="toc-text">构造函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.4.2.</span> <span class="toc-text">析构函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="toc-number">3.2.4.3.</span> <span class="toc-text">垃圾回收机制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%B1%9E%E6%80%A7"><span class="toc-number">3.2.5.</span> <span class="toc-text">成员属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E5%99%A8"><span class="toc-number">3.2.6.</span> <span class="toc-text">索引器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98"><span class="toc-number">3.2.7.</span> <span class="toc-text">静态成员</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E7%B1%BB%E5%92%8C%E9%9D%99%E6%80%81%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.8.</span> <span class="toc-text">静态类和静态构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%93%E5%B1%95%E6%96%B9%E6%B3%95"><span class="toc-number">3.2.9.</span> <span class="toc-text">拓展方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="toc-number">3.2.10.</span> <span class="toc-text">运算符重载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E7%B1%BB%E5%92%8C%E5%88%86%E9%83%A8%E7%B1%BB"><span class="toc-number">3.2.11.</span> <span class="toc-text">内部类和分部类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E7%BB%A7%E6%89%BF"><span class="toc-number">3.3.</span> <span class="toc-text">面向对象 - 继承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">3.3.1.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8C%E6%B0%8F%E6%9B%BF%E6%8D%A2%E5%8E%9F%E5%88%99"><span class="toc-number">3.3.2.</span> <span class="toc-text">里氏替换原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E4%B8%AD%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">3.3.3.</span> <span class="toc-text">继承中的构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%87%E7%89%A9%E4%B9%8B%E7%88%B6%E5%92%8C%E8%A3%85%E7%AE%B1%E6%8B%86%E7%AE%B1"><span class="toc-number">3.3.4.</span> <span class="toc-text">万物之父和装箱拆箱</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%9C%9C%E8%9C%82%E7%B1%BB"><span class="toc-number">3.3.5.</span> <span class="toc-text">蜜蜂类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E5%A4%9A%E6%80%81"><span class="toc-number">3.4.</span> <span class="toc-text">面向对象 - 多态</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vob"><span class="toc-number">3.4.1.</span> <span class="toc-text">vob</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%8A%BD%E8%B1%A1%E5%87%BD%E6%95%B0"><span class="toc-number">3.4.2.</span> <span class="toc-text">抽象类和抽象函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3"><span class="toc-number">3.4.3.</span> <span class="toc-text">接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%9C%9C%E8%9C%82%E6%96%B9%E6%B3%95"><span class="toc-number">3.4.4.</span> <span class="toc-text">蜜蜂方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%85%B3%E8%81%94%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">3.5.</span> <span class="toc-text">面向对象关联知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">3.5.1.</span> <span class="toc-text">命名空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%87%E7%89%A9%E4%B9%8B%E7%88%B6%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">3.5.2.</span> <span class="toc-text">万物之父中的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E7%B1%BB%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.5.3.</span> <span class="toc-text">结构体和类的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.5.4.</span> <span class="toc-text">抽象类和接口的区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6"><span class="toc-number">4.</span> <span class="toc-text">进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%B1%BB"><span class="toc-number">4.1.</span> <span class="toc-text">简单数据结构类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#arraylist"><span class="toc-number">4.1.1.</span> <span class="toc-text">Arraylist</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#stack"><span class="toc-number">4.1.2.</span> <span class="toc-text">Stack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#queue"><span class="toc-number">4.1.3.</span> <span class="toc-text">Queue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hashtalbe"><span class="toc-number">4.1.4.</span> <span class="toc-text">Hashtalbe</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-number">4.2.</span> <span class="toc-text">泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B-2"><span class="toc-number">4.2.1.</span> <span class="toc-text">泛型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%BA%A6%E6%9D%9F"><span class="toc-number">4.2.2.</span> <span class="toc-text">泛型约束</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%B3%9B%E5%9E%8B%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%B1%BB"><span class="toc-number">4.3.</span> <span class="toc-text">常用泛型数据结构类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#list"><span class="toc-number">4.3.1.</span> <span class="toc-text">List</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dictoary"><span class="toc-number">4.3.2.</span> <span class="toc-text">Dictoary</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8%E5%92%8C%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8"><span class="toc-number">4.3.3.</span> <span class="toc-text">顺序存储和链式存储</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">4.3.3.1.</span> <span class="toc-text">数据结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E8%A1%A8"><span class="toc-number">4.3.3.2.</span> <span class="toc-text">线性表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8%E5%92%8C%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8-2"><span class="toc-number">4.3.3.3.</span> <span class="toc-text">顺序存储和链式存储</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linkedlist"><span class="toc-number">4.3.4.</span> <span class="toc-text">LinkedList</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A7%94%E6%89%98%E5%92%8C%E4%BA%8B%E4%BB%B6"><span class="toc-number">4.4.</span> <span class="toc-text">委托和事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A7%94%E6%89%98"><span class="toc-number">4.4.1.</span> <span class="toc-text">委托</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6"><span class="toc-number">4.4.2.</span> <span class="toc-text">事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">4.4.3.</span> <span class="toc-text">匿名函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lambad%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">4.4.4.</span> <span class="toc-text">Lambad 表达式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#list%E6%8E%92%E5%BA%8F"><span class="toc-number">4.5.</span> <span class="toc-text">List 排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E5%8F%98%E9%80%86%E5%8F%98"><span class="toc-number">4.6.</span> <span class="toc-text">协变逆变</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-number">4.7.</span> <span class="toc-text">多线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8%E6%8C%87%E4%BB%A4"><span class="toc-number">4.8.</span> <span class="toc-text">预处理器指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E5%92%8C%E7%89%B9%E6%80%A7"><span class="toc-number">4.9.</span> <span class="toc-text">反射和特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84"><span class="toc-number">4.9.1.</span> <span class="toc-text">反射</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E5%85%B3%E9%94%AE%E7%B1%BBassembly%E5%92%8Cactivator"><span class="toc-number">4.9.2.</span> <span class="toc-text">反射关键类 Assembly 和 Activator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%80%A7"><span class="toc-number">4.9.3.</span> <span class="toc-text">特性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">4.10.</span> <span class="toc-text">迭代器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E8%AF%AD%E6%B3%95"><span class="toc-number">4.11.</span> <span class="toc-text">特殊语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%80%BC%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B2"><span class="toc-number">4.12.</span> <span class="toc-text">值类型和引用类型 2</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="Related"></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Years Pass" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Years Pass</p><div class="description" itemprop="description">字节 + 编年史，记录开发旅程与项目成长。</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">6</span> <span class="name">posts</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2025/05/20/c++%E6%8F%90%E9%AB%98%E7%BC%96%E7%A8%8B/" title="C++提高编程">C++提高编程</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2025/02/02/c++/" title="C++基础入门">C++基础入门</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2025/07/26/csharp/" title="C Sharp">C Sharp</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2025/07/07/MySQL/" title="MySQL基础">MySQL基础</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2025/07/15/MySQL%E8%BF%9B%E9%98%B6/" title="MySQL进阶">MySQL进阶</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2025/04/21/c++%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/" title="C++核心编程">C++核心编程</a></span></li></ul></div><div><h2>Recent Comments</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Years Pass @ ByteChronicle</span></div><div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2025/07/26/csharp/",favicon:{show:"（●´3｀●）Goooood",hide:"(´Д｀)Booooom"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->